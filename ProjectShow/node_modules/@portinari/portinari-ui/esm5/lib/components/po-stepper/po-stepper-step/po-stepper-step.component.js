/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { browserLanguage, convertToBoolean, isTypeof, poLocaleDefault } from './../../../utils/util';
import { PoStepperOrientation } from '../enums/po-stepper-orientation.enum';
import { PoStepperStatus } from '../enums/po-stepper-status.enum';
/** @type {?} */
var poStepperStepSizeDefault = 24;
/** @type {?} */
var poStepperStepSizeMax = 64;
/** @type {?} */
var poStepLiteralsDefault = {
    en: { label: 'Step' },
    es: { label: 'Paso' },
    pt: { label: 'Passo' }
};
/**
 * \@docsPrivate
 *
 * \@description
 *
 * Componente que representa um *step* contendo as ligações das laterais (`po-stepper-step-bar`) e a label.
 */
var PoStepperStepComponent = /** @class */ (function () {
    function PoStepperStepComponent() {
        this._stepIcons = false;
        this._stepSize = poStepperStepSizeDefault;
        this.literals = tslib_1.__assign({}, poStepLiteralsDefault[poLocaleDefault], poStepLiteralsDefault[browserLanguage()]);
        // Evento que será emitido quando o status do *step* estiver ativo (`PoStepperStatus.Active`).
        this.activated = new EventEmitter();
        // Evento que será emitido ao clicar no *step*.
        this.click = new EventEmitter();
        // Evento que será emitido ao focar no *step* e pressionar a tecla *enter*.
        this.enter = new EventEmitter();
    }
    Object.defineProperty(PoStepperStepComponent.prototype, "label", {
        get: /**
         * @return {?}
         */
        function () {
            return this._label;
        },
        // Label do *step*.
        set: 
        // Label do *step*.
        /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._label = isTypeof(value, 'string') ? value : this.literals.label + " " + this.circleContent;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperStepComponent.prototype, "status", {
        get: /**
         * @return {?}
         */
        function () {
            return this._status;
        },
        // Define o estado de exibição.
        set: 
        // Define o estado de exibição.
        /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._status = ((/** @type {?} */ (value))) ? value : undefined;
            if (this.status === PoStepperStatus.Active) {
                this.activated.emit();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperStepComponent.prototype, "stepIcons", {
        get: /**
         * @return {?}
         */
        function () {
            return this._stepIcons;
        },
        set: /**
         * @param {?} stepIcons
         * @return {?}
         */
        function (stepIcons) {
            this._stepIcons = convertToBoolean(stepIcons);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperStepComponent.prototype, "stepSize", {
        get: /**
         * @return {?}
         */
        function () {
            return this._stepSize;
        },
        // Tamanho do `step` em *pixels*, possibilitando um maior destaque.
        // O valor informado deve ser entre `24` e `64`.
        set: 
        // Tamanho do `step` em *pixels*, possibilitando um maior destaque.
        // O valor informado deve ser entre `24` e `64`.
        /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._stepSize = (value >= poStepperStepSizeDefault && value <= poStepperStepSizeMax) ? value : poStepperStepSizeDefault;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperStepComponent.prototype, "halfStepSize", {
        get: /**
         * @return {?}
         */
        function () {
            return this.stepSize / 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperStepComponent.prototype, "isVerticalOrientation", {
        get: /**
         * @return {?}
         */
        function () {
            return this.orientation === PoStepperOrientation.Vertical;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperStepComponent.prototype, "marginHorizontalBar", {
        get: /**
         * @return {?}
         */
        function () {
            return this.isVerticalOrientation ? undefined : this.halfStepSize;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} status
     * @return {?}
     */
    PoStepperStepComponent.prototype.getStatusClass = /**
     * @param {?} status
     * @return {?}
     */
    function (status) {
        switch (status) {
            case PoStepperStatus.Active:
                return 'po-stepper-step-active';
            case PoStepperStatus.Disabled:
                return 'po-stepper-step-disabled';
            case PoStepperStatus.Done:
                return 'po-stepper-step-done';
            case PoStepperStatus.Error:
                return 'po-stepper-step-error';
            default:
                return 'po-stepper-step-default';
        }
    };
    /**
     * @return {?}
     */
    PoStepperStepComponent.prototype.onClick = /**
     * @return {?}
     */
    function () {
        if (this.status !== PoStepperStatus.Disabled) {
            this.click.emit();
        }
    };
    /**
     * @return {?}
     */
    PoStepperStepComponent.prototype.onEnter = /**
     * @return {?}
     */
    function () {
        if (this.status !== PoStepperStatus.Disabled) {
            this.enter.emit();
        }
    };
    PoStepperStepComponent.decorators = [
        { type: Component, args: [{
                    selector: 'po-stepper-step',
                    template: "<div class=\"po-stepper-step\"\n  [ngClass]=\"getStatusClass(status)\"\n  (click)=\"onClick()\"\n  (keydown.enter)=\"onEnter()\">\n\n  <div class=\"po-stepper-step-container\" [style.width.px]=\"isVerticalOrientation ? stepSize : undefined\">\n\n    <div\n      [class.po-stepper-step-bar-top]=\"isVerticalOrientation\"\n      [class.po-stepper-step-bar-left]=\"!isVerticalOrientation\"\n      [style.margin-right.px]=\"marginHorizontalBar\">\n    </div>\n\n    <po-stepper-circle\n      [p-content]=\"circleContent\"\n      [p-icons]=\"stepIcons\"\n      [p-size]=\"stepSize\"\n      [p-status]=\"status\">\n    </po-stepper-circle>\n\n    <div\n      [class.po-stepper-step-bar-bottom]=\"isVerticalOrientation\"\n      [class.po-stepper-step-bar-right]=\"!isVerticalOrientation\"\n      [style.margin-left.px]=\"marginHorizontalBar\">\n    </div>\n\n  </div>\n\n  <po-stepper-label\n    class=\"po-stepper-step-label-position\"\n    [p-content]=\"label\">\n  </po-stepper-label>\n</div>\n"
                }] }
    ];
    PoStepperStepComponent.propDecorators = {
        circleContent: [{ type: Input, args: ['p-circle-content',] }],
        label: [{ type: Input, args: ['p-label',] }],
        orientation: [{ type: Input, args: ['p-orientation',] }],
        status: [{ type: Input, args: ['p-status',] }],
        stepIcons: [{ type: Input, args: ['p-step-icons',] }],
        stepSize: [{ type: Input, args: ['p-step-size',] }],
        activated: [{ type: Output, args: ['p-activated',] }],
        click: [{ type: Output, args: ['p-click',] }],
        enter: [{ type: Output, args: ['p-enter',] }]
    };
    return PoStepperStepComponent;
}());
export { PoStepperStepComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    PoStepperStepComponent.prototype._label;
    /**
     * @type {?}
     * @private
     */
    PoStepperStepComponent.prototype._status;
    /**
     * @type {?}
     * @private
     */
    PoStepperStepComponent.prototype._stepIcons;
    /**
     * @type {?}
     * @private
     */
    PoStepperStepComponent.prototype._stepSize;
    /** @type {?} */
    PoStepperStepComponent.prototype.literals;
    /** @type {?} */
    PoStepperStepComponent.prototype.circleContent;
    /** @type {?} */
    PoStepperStepComponent.prototype.orientation;
    /** @type {?} */
    PoStepperStepComponent.prototype.activated;
    /** @type {?} */
    PoStepperStepComponent.prototype.click;
    /** @type {?} */
    PoStepperStepComponent.prototype.enter;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tc3RlcHBlci1zdGVwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwb3J0aW5hcmkvcG9ydGluYXJpLXVpLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tc3RlcHBlci9wby1zdGVwcGVyLXN0ZXAvcG8tc3RlcHBlci1zdGVwLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkUsT0FBTyxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFckcsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDNUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGlDQUFpQyxDQUFDOztJQUU1RCx3QkFBd0IsR0FBRyxFQUFFOztJQUM3QixvQkFBb0IsR0FBRyxFQUFFOztJQUN6QixxQkFBcUIsR0FBRztJQUM1QixFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQ3JCLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7SUFDckIsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtDQUN2Qjs7Ozs7Ozs7QUFTRDtJQUFBO1FBUVUsZUFBVSxHQUFhLEtBQUssQ0FBQztRQUM3QixjQUFTLEdBQVcsd0JBQXdCLENBQUM7UUFFNUMsYUFBUSx3QkFDWixxQkFBcUIsQ0FBQyxlQUFlLENBQUMsRUFDdEMscUJBQXFCLENBQUMsZUFBZSxFQUFFLENBQUMsRUFDM0M7O1FBaURxQixjQUFTLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQzs7UUFHeEMsVUFBSyxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7O1FBR2hDLFVBQUssR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO0lB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QyxRQUFRLEVBQUU7WUFDNUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNuQjtJQUNILENBQUM7O2dCQTVHRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLGlCQUFpQjtvQkFDM0IsMCtCQUE2QztpQkFDOUM7OztnQ0FjRSxLQUFLLFNBQUMsa0JBQWtCO3dCQUd4QixLQUFLLFNBQUMsU0FBUzs4QkFTZixLQUFLLFNBQUMsZUFBZTt5QkFHckIsS0FBSyxTQUFDLFVBQVU7NEJBWWhCLEtBQUssU0FBQyxjQUFjOzJCQVVwQixLQUFLLFNBQUMsYUFBYTs0QkFTbkIsTUFBTSxTQUFDLGFBQWE7d0JBR3BCLE1BQU0sU0FBQyxTQUFTO3dCQUdoQixNQUFNLFNBQUMsU0FBUzs7SUF5Q25CLDZCQUFDO0NBQUEsQUE5R0QsSUE4R0M7U0ExR1ksc0JBQXNCOzs7Ozs7SUFFakMsd0NBQXVCOzs7OztJQUN2Qix5Q0FBaUM7Ozs7O0lBQ2pDLDRDQUFxQzs7Ozs7SUFDckMsMkNBQXFEOztJQUVyRCwwQ0FHRTs7SUFHRiwrQ0FBOEM7O0lBWTlDLDZDQUEwRDs7SUFrQzFELDJDQUEyRDs7SUFHM0QsdUNBQW1EOztJQUduRCx1Q0FBbUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBicm93c2VyTGFuZ3VhZ2UsIGNvbnZlcnRUb0Jvb2xlYW4sIGlzVHlwZW9mLCBwb0xvY2FsZURlZmF1bHQgfSBmcm9tICcuLy4uLy4uLy4uL3V0aWxzL3V0aWwnO1xuXG5pbXBvcnQgeyBQb1N0ZXBwZXJPcmllbnRhdGlvbiB9IGZyb20gJy4uL2VudW1zL3BvLXN0ZXBwZXItb3JpZW50YXRpb24uZW51bSc7XG5pbXBvcnQgeyBQb1N0ZXBwZXJTdGF0dXMgfSBmcm9tICcuLi9lbnVtcy9wby1zdGVwcGVyLXN0YXR1cy5lbnVtJztcblxuY29uc3QgcG9TdGVwcGVyU3RlcFNpemVEZWZhdWx0ID0gMjQ7XG5jb25zdCBwb1N0ZXBwZXJTdGVwU2l6ZU1heCA9IDY0O1xuY29uc3QgcG9TdGVwTGl0ZXJhbHNEZWZhdWx0ID0ge1xuICBlbjogeyBsYWJlbDogJ1N0ZXAnIH0sXG4gIGVzOiB7IGxhYmVsOiAnUGFzbycgfSxcbiAgcHQ6IHsgbGFiZWw6ICdQYXNzbycgfVxufTtcblxuLyoqXG4gKiBAZG9jc1ByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb21wb25lbnRlIHF1ZSByZXByZXNlbnRhIHVtICpzdGVwKiBjb250ZW5kbyBhcyBsaWdhw6fDtWVzIGRhcyBsYXRlcmFpcyAoYHBvLXN0ZXBwZXItc3RlcC1iYXJgKSBlIGEgbGFiZWwuXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLXN0ZXBwZXItc3RlcCcsXG4gIHRlbXBsYXRlVXJsOiAncG8tc3RlcHBlci1zdGVwLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBQb1N0ZXBwZXJTdGVwQ29tcG9uZW50IHtcblxuICBwcml2YXRlIF9sYWJlbDogc3RyaW5nO1xuICBwcml2YXRlIF9zdGF0dXM6IFBvU3RlcHBlclN0YXR1cztcbiAgcHJpdmF0ZSBfc3RlcEljb25zPzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9zdGVwU2l6ZTogbnVtYmVyID0gcG9TdGVwcGVyU3RlcFNpemVEZWZhdWx0O1xuXG4gIHJlYWRvbmx5IGxpdGVyYWxzID0ge1xuICAgIC4uLnBvU3RlcExpdGVyYWxzRGVmYXVsdFtwb0xvY2FsZURlZmF1bHRdLFxuICAgIC4uLnBvU3RlcExpdGVyYWxzRGVmYXVsdFticm93c2VyTGFuZ3VhZ2UoKV1cbiAgfTtcblxuICAvLyBDb250ZcO6ZG8gcXVlIHNlcsOhIHJlcGFzc2FkbyBwYXJhIG8gY29tcG9uZW50ZSBgcC1jaXJjbGUtY29udGVudGAgYXRyYXbDqXMgZGEgcHJvcHJpZWRhZGUgYHAtY29udGVudGAuXG4gIEBJbnB1dCgncC1jaXJjbGUtY29udGVudCcpIGNpcmNsZUNvbnRlbnQ6IGFueTtcblxuICAvLyBMYWJlbCBkbyAqc3RlcCouXG4gIEBJbnB1dCgncC1sYWJlbCcpIHNldCBsYWJlbCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fbGFiZWwgPSBpc1R5cGVvZih2YWx1ZSwgJ3N0cmluZycpID8gdmFsdWUgOiBgJHt0aGlzLmxpdGVyYWxzLmxhYmVsfSAke3RoaXMuY2lyY2xlQ29udGVudH1gO1xuICB9XG5cbiAgZ2V0IGxhYmVsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2xhYmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIGEgb3JpZW50YcOnw6NvIGRlIGV4aWJpw6fDo28uXG4gIEBJbnB1dCgncC1vcmllbnRhdGlvbicpIG9yaWVudGF0aW9uOiBQb1N0ZXBwZXJPcmllbnRhdGlvbjtcblxuICAvLyBEZWZpbmUgbyBlc3RhZG8gZGUgZXhpYmnDp8Ojby5cbiAgQElucHV0KCdwLXN0YXR1cycpIHNldCBzdGF0dXModmFsdWU6IFBvU3RlcHBlclN0YXR1cykge1xuICAgIHRoaXMuX3N0YXR1cyA9ICh2YWx1ZSBhcyBzdHJpbmcpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IFBvU3RlcHBlclN0YXR1cy5BY3RpdmUpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVkLmVtaXQoKTtcbiAgICB9XG4gIH1cblxuICBnZXQgc3RhdHVzKCk6IFBvU3RlcHBlclN0YXR1cyB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXR1cztcbiAgfVxuXG4gIEBJbnB1dCgncC1zdGVwLWljb25zJykgc2V0IHN0ZXBJY29ucyhzdGVwSWNvbnM6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9zdGVwSWNvbnMgPSBjb252ZXJ0VG9Cb29sZWFuKHN0ZXBJY29ucyk7XG4gIH1cblxuICBnZXQgc3RlcEljb25zKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9zdGVwSWNvbnM7XG4gIH1cblxuICAvLyBUYW1hbmhvIGRvIGBzdGVwYCBlbSAqcGl4ZWxzKiwgcG9zc2liaWxpdGFuZG8gdW0gbWFpb3IgZGVzdGFxdWUuXG4gIC8vIE8gdmFsb3IgaW5mb3JtYWRvIGRldmUgc2VyIGVudHJlIGAyNGAgZSBgNjRgLlxuICBASW5wdXQoJ3Atc3RlcC1zaXplJykgc2V0IHN0ZXBTaXplKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLl9zdGVwU2l6ZSA9ICh2YWx1ZSA+PSBwb1N0ZXBwZXJTdGVwU2l6ZURlZmF1bHQgJiYgdmFsdWUgPD0gcG9TdGVwcGVyU3RlcFNpemVNYXgpID8gdmFsdWUgOiBwb1N0ZXBwZXJTdGVwU2l6ZURlZmF1bHQ7XG4gIH1cblxuICBnZXQgc3RlcFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fc3RlcFNpemU7XG4gIH1cblxuICAvLyBFdmVudG8gcXVlIHNlcsOhIGVtaXRpZG8gcXVhbmRvIG8gc3RhdHVzIGRvICpzdGVwKiBlc3RpdmVyIGF0aXZvIChgUG9TdGVwcGVyU3RhdHVzLkFjdGl2ZWApLlxuICBAT3V0cHV0KCdwLWFjdGl2YXRlZCcpIGFjdGl2YXRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIC8vIEV2ZW50byBxdWUgc2Vyw6EgZW1pdGlkbyBhbyBjbGljYXIgbm8gKnN0ZXAqLlxuICBAT3V0cHV0KCdwLWNsaWNrJykgY2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAvLyBFdmVudG8gcXVlIHNlcsOhIGVtaXRpZG8gYW8gZm9jYXIgbm8gKnN0ZXAqIGUgcHJlc3Npb25hciBhIHRlY2xhICplbnRlciouXG4gIEBPdXRwdXQoJ3AtZW50ZXInKSBlbnRlciA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIGdldCBoYWxmU3RlcFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwU2l6ZSAvIDI7XG4gIH1cblxuICBnZXQgaXNWZXJ0aWNhbE9yaWVudGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSBQb1N0ZXBwZXJPcmllbnRhdGlvbi5WZXJ0aWNhbDtcbiAgfVxuXG4gIGdldCBtYXJnaW5Ib3Jpem9udGFsQmFyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaXNWZXJ0aWNhbE9yaWVudGF0aW9uID8gdW5kZWZpbmVkIDogdGhpcy5oYWxmU3RlcFNpemU7XG4gIH1cblxuICBnZXRTdGF0dXNDbGFzcyhzdGF0dXM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgUG9TdGVwcGVyU3RhdHVzLkFjdGl2ZTpcbiAgICAgICAgcmV0dXJuICdwby1zdGVwcGVyLXN0ZXAtYWN0aXZlJztcbiAgICAgIGNhc2UgUG9TdGVwcGVyU3RhdHVzLkRpc2FibGVkOlxuICAgICAgICByZXR1cm4gJ3BvLXN0ZXBwZXItc3RlcC1kaXNhYmxlZCc7XG4gICAgICBjYXNlIFBvU3RlcHBlclN0YXR1cy5Eb25lOlxuICAgICAgICByZXR1cm4gJ3BvLXN0ZXBwZXItc3RlcC1kb25lJztcbiAgICAgIGNhc2UgUG9TdGVwcGVyU3RhdHVzLkVycm9yOlxuICAgICAgICByZXR1cm4gJ3BvLXN0ZXBwZXItc3RlcC1lcnJvcic7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ3BvLXN0ZXBwZXItc3RlcC1kZWZhdWx0JztcbiAgICB9XG4gIH1cblxuICBvbkNsaWNrKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gUG9TdGVwcGVyU3RhdHVzLkRpc2FibGVkKSB7XG4gICAgICB0aGlzLmNsaWNrLmVtaXQoKTtcbiAgICB9XG4gIH1cblxuICBvbkVudGVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gUG9TdGVwcGVyU3RhdHVzLkRpc2FibGVkKSB7XG4gICAgICB0aGlzLmVudGVyLmVtaXQoKTtcbiAgICB9XG4gIH1cblxufVxuIl19
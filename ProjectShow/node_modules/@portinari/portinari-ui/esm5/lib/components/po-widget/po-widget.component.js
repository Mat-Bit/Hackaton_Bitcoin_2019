/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, ViewContainerRef } from '@angular/core';
import { PoWidgetBaseComponent } from './po-widget-base.component';
/**
 * \@docsExtends PoWidgetBaseComponent
 *
 * \@example
 *
 * <example name="po-widget-basic" title="Portinari Widget Basic">
 *  <file name="sample-po-widget-basic/sample-po-widget-basic.component.html"> </file>
 *  <file name="sample-po-widget-basic/sample-po-widget-basic.component.ts"> </file>
 * </example>
 *
 * <example name="po-widget-labs" title="Portinari Widget Labs">
 *  <file name="sample-po-widget-labs/sample-po-widget-labs.component.html"> </file>
 *  <file name="sample-po-widget-labs/sample-po-widget-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-widget-finance-dashboard" title="Portinari Widget - Finance dashboard">
 *  <file name="sample-po-widget-finance-dashboard/sample-po-widget-finance-dashboard.component.html"> </file>
 *  <file name="sample-po-widget-finance-dashboard/sample-po-widget-finance-dashboard.component.ts"> </file>
 * </example>
 *
 * <example name="po-widget-card" title="Portinari Widget - Card">
 *  <file name="sample-po-widget-card/sample-po-widget-card.component.html"> </file>
 *  <file name="sample-po-widget-card/sample-po-widget-card.component.ts"> </file>
 * </example>
 *
 */
var PoWidgetComponent = /** @class */ (function (_super) {
    tslib_1.__extends(PoWidgetComponent, _super);
    function PoWidgetComponent(viewRef) {
        return _super.call(this) || this;
    }
    Object.defineProperty(PoWidgetComponent.prototype, "showTitleAction", {
        get: /**
         * @return {?}
         */
        function () {
            return !!this.titleAction.observers[0];
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    PoWidgetComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.setHeight(this.height);
    };
    /**
     * @return {?}
     */
    PoWidgetComponent.prototype.hasTitleHelpOrSetting = /**
     * @return {?}
     */
    function () {
        return !!this.title || !!this.help || !!this.setting.observers[0];
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PoWidgetComponent.prototype.onClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            this.click.emit(event);
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PoWidgetComponent.prototype.openHelp = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            window.open(this.help, '_blank');
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PoWidgetComponent.prototype.runPrimaryAction = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            this.primaryAction.emit();
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PoWidgetComponent.prototype.runSecondaryAction = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            this.secondaryAction.emit();
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PoWidgetComponent.prototype.runTitleAction = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            this.titleAction.emit();
        }
    };
    /**
     * @param {?} height
     * @return {?}
     */
    PoWidgetComponent.prototype.setHeight = /**
     * @param {?} height
     * @return {?}
     */
    function (height) {
        if (height) {
            /** @type {?} */
            var bodyHeight = height;
            /** @type {?} */
            var hasSettingOrHelp = this.setting.observers.length > 0 || this.help;
            /** @type {?} */
            var footerBorder = 1;
            /** @type {?} */
            var footerHeight = 40;
            /** @type {?} */
            var settingHeight = 37;
            /** @type {?} */
            var shadowHeight = 2;
            /** @type {?} */
            var titleHeight = 50;
            if (this.noShadow) {
                bodyHeight -= shadowHeight;
            }
            if (hasSettingOrHelp && !this.title) {
                bodyHeight -= settingHeight;
            }
            if (this.title) {
                bodyHeight -= titleHeight;
            }
            if (this.primaryLabel) {
                bodyHeight -= footerHeight + footerBorder;
            }
            this.containerHeight = bodyHeight + "px";
        }
        else {
            this.containerHeight = "auto";
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PoWidgetComponent.prototype.settingOutput = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            this.setting.emit();
        }
    };
    PoWidgetComponent.decorators = [
        { type: Component, args: [{
                    selector: 'po-widget',
                    template: "<div\n  [class.po-clickable]=\"click.observers.length\"\n  [class.po-widget]=\"!primary\"\n  [class.po-widget-disabled]=\"disabled\"\n  [class.po-widget-primary]=\"primary\"\n  [class.po-widget-no-shadow]=\"noShadow\"\n  [style.background-image]=\"background ? 'url(' + background + ')' : undefined\"\n  (click)=\"onClick($event)\">\n\n  <div *ngIf=\"hasTitleHelpOrSetting()\" class=\"po-widget-header\">\n\n    <span\n      *ngIf=\"showTitleAction; else noTitleAction\"\n      class=\"po-widget-title-action\"\n      (click)=\"runTitleAction($event)\">\n      {{ title }}\n    </span>\n    <ng-template #noTitleAction>{{ title }}</ng-template>\n\n    <div *ngIf=\"setting.observers[0] || help\" class=\"po-pull-right\">\n      <span id=\"settingAction\"\n        *ngIf=\"setting.observers[0]\"\n        class=\"po-clickable po-icon po-icon-settings\"\n        (click)=\"settingOutput($event)\">\n      </span>\n      <span id=\"helpLink\"\n        *ngIf=\"help\"\n        class=\"po-clickable po-icon po-icon-help\"\n        (click)=\"openHelp($event)\">\n      </span>\n    </div>\n  </div>\n\n  <po-container\n    p-no-border\n    [p-height]=\"containerHeight\">\n    <div class=\"po-widget-body\">\n      <ng-content></ng-content>\n    </div>\n  </po-container>\n\n  <div *ngIf=\"primaryLabel\" class=\"po-widget-footer\">\n\n    <div class=\"po-widget-xl\" *ngIf=\"!secondaryLabel\">\n      <a class=\"po-widget-action\" id='primaryAct' (click)=\"runPrimaryAction($event)\">{{ primaryLabel }}</a>\n    </div>\n\n    <div class=\"po-widget-md\" *ngIf=\"secondaryLabel\">\n      <a class=\"po-widget-action\" id='primaryAct' (click)=\"runPrimaryAction($event)\">{{ primaryLabel }}</a>\n    </div>\n    <div class=\"po-widget-md\" *ngIf=\"secondaryLabel\">\n      <a class=\"po-widget-action\" id='secondaryAct' (click)=\"runSecondaryAction($event)\">{{ secondaryLabel }}</a>\n    </div>\n\n  </div>\n</div>\n"
                }] }
    ];
    /** @nocollapse */
    PoWidgetComponent.ctorParameters = function () { return [
        { type: ViewContainerRef }
    ]; };
    return PoWidgetComponent;
}(PoWidgetBaseComponent));
export { PoWidgetComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8td2lkZ2V0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwb3J0aW5hcmkvcG9ydGluYXJpLXVpLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8td2lkZ2V0L3BvLXdpZGdldC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLGdCQUFnQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXBFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDRCQUE0QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0Qm5FO0lBSXVDLDZDQUFxQjtJQU0xRCwyQkFBWSxPQUF5QjtlQUNuQyxpQkFBTztJQUNULENBQUM7SUFORCxzQkFBSSw4Q0FBZTs7OztRQUFuQjtZQUNFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLENBQUM7OztPQUFBOzs7O0lBTUQsb0NBQVE7OztJQUFSO1FBQ0UsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDOUIsQ0FBQzs7OztJQUVELGlEQUFxQjs7O0lBQXJCO1FBQ0UsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDcEUsQ0FBQzs7Ozs7SUFFRCxtQ0FBTzs7OztJQUFQLFVBQVEsS0FBaUI7UUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDeEI7SUFDSCxDQUFDOzs7OztJQUVELG9DQUFROzs7O0lBQVIsVUFBUyxLQUFpQjtRQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1NBQ2xDO0lBQ0gsQ0FBQzs7Ozs7SUFFRCw0Q0FBZ0I7Ozs7SUFBaEIsVUFBaUIsS0FBaUI7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbEIsS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3hCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDM0I7SUFDSCxDQUFDOzs7OztJQUVELDhDQUFrQjs7OztJQUFsQixVQUFtQixLQUFpQjtRQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUM3QjtJQUNILENBQUM7Ozs7O0lBRUQsMENBQWM7Ozs7SUFBZCxVQUFlLEtBQWlCO1FBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQzs7Ozs7SUFFRCxxQ0FBUzs7OztJQUFULFVBQVUsTUFBYztRQUN0QixJQUFJLE1BQU0sRUFBRTs7Z0JBQ04sVUFBVSxHQUFHLE1BQU07O2dCQUNqQixnQkFBZ0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJOztnQkFDakUsWUFBWSxHQUFHLENBQUM7O2dCQUNoQixZQUFZLEdBQUcsRUFBRTs7Z0JBQ2pCLGFBQWEsR0FBRyxFQUFFOztnQkFDbEIsWUFBWSxHQUFHLENBQUM7O2dCQUNoQixXQUFXLEdBQUcsRUFBRTtZQUV0QixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2pCLFVBQVUsSUFBSSxZQUFZLENBQUM7YUFDNUI7WUFFRCxJQUFJLGdCQUFnQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDbkMsVUFBVSxJQUFJLGFBQWEsQ0FBQzthQUM3QjtZQUVELElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDZCxVQUFVLElBQUksV0FBVyxDQUFDO2FBQzNCO1lBRUQsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO2dCQUNyQixVQUFVLElBQUksWUFBWSxHQUFHLFlBQVksQ0FBQzthQUMzQztZQUVELElBQUksQ0FBQyxlQUFlLEdBQU0sVUFBVSxPQUFJLENBQUM7U0FDMUM7YUFBTTtZQUNMLElBQUksQ0FBQyxlQUFlLEdBQUcsTUFBTSxDQUFDO1NBQy9CO0lBQ0gsQ0FBQzs7Ozs7SUFFRCx5Q0FBYTs7OztJQUFiLFVBQWMsS0FBaUI7UUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbEIsS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3hCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDckI7SUFDSCxDQUFDOztnQkE3RkYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxXQUFXO29CQUNyQixtNERBQXlDO2lCQUMxQzs7OztnQkFqQzJCLGdCQUFnQjs7SUE2SDVDLHdCQUFDO0NBQUEsQUEvRkQsQ0FJdUMscUJBQXFCLEdBMkYzRDtTQTNGWSxpQkFBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBQb1dpZGdldEJhc2VDb21wb25lbnQgfSBmcm9tICcuL3BvLXdpZGdldC1iYXNlLmNvbXBvbmVudCc7XG5cbi8qKlxuICogQGRvY3NFeHRlbmRzIFBvV2lkZ2V0QmFzZUNvbXBvbmVudFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLXdpZGdldC1iYXNpY1wiIHRpdGxlPVwiUG9ydGluYXJpIFdpZGdldCBCYXNpY1wiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8td2lkZ2V0LWJhc2ljL3NhbXBsZS1wby13aWRnZXQtYmFzaWMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8td2lkZ2V0LWJhc2ljL3NhbXBsZS1wby13aWRnZXQtYmFzaWMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8td2lkZ2V0LWxhYnNcIiB0aXRsZT1cIlBvcnRpbmFyaSBXaWRnZXQgTGFic1wiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8td2lkZ2V0LWxhYnMvc2FtcGxlLXBvLXdpZGdldC1sYWJzLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXdpZGdldC1sYWJzL3NhbXBsZS1wby13aWRnZXQtbGFicy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby13aWRnZXQtZmluYW5jZS1kYXNoYm9hcmRcIiB0aXRsZT1cIlBvcnRpbmFyaSBXaWRnZXQgLSBGaW5hbmNlIGRhc2hib2FyZFwiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8td2lkZ2V0LWZpbmFuY2UtZGFzaGJvYXJkL3NhbXBsZS1wby13aWRnZXQtZmluYW5jZS1kYXNoYm9hcmQuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8td2lkZ2V0LWZpbmFuY2UtZGFzaGJvYXJkL3NhbXBsZS1wby13aWRnZXQtZmluYW5jZS1kYXNoYm9hcmQuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8td2lkZ2V0LWNhcmRcIiB0aXRsZT1cIlBvcnRpbmFyaSBXaWRnZXQgLSBDYXJkXCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby13aWRnZXQtY2FyZC9zYW1wbGUtcG8td2lkZ2V0LWNhcmQuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8td2lkZ2V0LWNhcmQvc2FtcGxlLXBvLXdpZGdldC1jYXJkLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby13aWRnZXQnLFxuICB0ZW1wbGF0ZVVybDogJy4vcG8td2lkZ2V0LmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBQb1dpZGdldENvbXBvbmVudCBleHRlbmRzIFBvV2lkZ2V0QmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgZ2V0IHNob3dUaXRsZUFjdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnRpdGxlQWN0aW9uLm9ic2VydmVyc1swXTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHZpZXdSZWY6IFZpZXdDb250YWluZXJSZWYpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zZXRIZWlnaHQodGhpcy5oZWlnaHQpO1xuICB9XG5cbiAgaGFzVGl0bGVIZWxwT3JTZXR0aW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMudGl0bGUgfHwgISF0aGlzLmhlbHAgfHwgISF0aGlzLnNldHRpbmcub2JzZXJ2ZXJzWzBdO1xuICB9XG5cbiAgb25DbGljayhldmVudDogTW91c2VFdmVudCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5jbGljay5lbWl0KGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBvcGVuSGVscChldmVudDogTW91c2VFdmVudCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB3aW5kb3cub3Blbih0aGlzLmhlbHAsICdfYmxhbmsnKTtcbiAgICB9XG4gIH1cblxuICBydW5QcmltYXJ5QWN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMucHJpbWFyeUFjdGlvbi5lbWl0KCk7XG4gICAgfVxuICB9XG5cbiAgcnVuU2Vjb25kYXJ5QWN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuc2Vjb25kYXJ5QWN0aW9uLmVtaXQoKTtcbiAgICB9XG4gIH1cblxuICBydW5UaXRsZUFjdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLnRpdGxlQWN0aW9uLmVtaXQoKTtcbiAgICB9XG4gIH1cblxuICBzZXRIZWlnaHQoaGVpZ2h0OiBudW1iZXIpIHtcbiAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICBsZXQgYm9keUhlaWdodCA9IGhlaWdodDtcbiAgICAgIGNvbnN0IGhhc1NldHRpbmdPckhlbHAgPSB0aGlzLnNldHRpbmcub2JzZXJ2ZXJzLmxlbmd0aCA+IDAgfHwgdGhpcy5oZWxwO1xuICAgICAgY29uc3QgZm9vdGVyQm9yZGVyID0gMTtcbiAgICAgIGNvbnN0IGZvb3RlckhlaWdodCA9IDQwO1xuICAgICAgY29uc3Qgc2V0dGluZ0hlaWdodCA9IDM3O1xuICAgICAgY29uc3Qgc2hhZG93SGVpZ2h0ID0gMjtcbiAgICAgIGNvbnN0IHRpdGxlSGVpZ2h0ID0gNTA7XG5cbiAgICAgIGlmICh0aGlzLm5vU2hhZG93KSB7XG4gICAgICAgIGJvZHlIZWlnaHQgLT0gc2hhZG93SGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzU2V0dGluZ09ySGVscCAmJiAhdGhpcy50aXRsZSkge1xuICAgICAgICBib2R5SGVpZ2h0IC09IHNldHRpbmdIZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRpdGxlKSB7XG4gICAgICAgIGJvZHlIZWlnaHQgLT0gdGl0bGVIZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnByaW1hcnlMYWJlbCkge1xuICAgICAgICBib2R5SGVpZ2h0IC09IGZvb3RlckhlaWdodCArIGZvb3RlckJvcmRlcjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb250YWluZXJIZWlnaHQgPSBgJHtib2R5SGVpZ2h0fXB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb250YWluZXJIZWlnaHQgPSBgYXV0b2A7XG4gICAgfVxuICB9XG5cbiAgc2V0dGluZ091dHB1dChldmVudDogTW91c2VFdmVudCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLnNldHRpbmcuZW1pdCgpO1xuICAgIH1cbiAgfVxuXG59XG4iXX0=
/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Input, EventEmitter } from '@angular/core';
import { convertToBoolean } from './../../utils/util';
/**
 * \@description
 *
 * O componente `po-modal` é utilizado para incluir conteúdos rápidos e informativos.
 *
 * No cabeçalho do componente é possível definir um título e como também permite ocultar o ícone de fechamento da modal.
 *
 * Em seu corpo é possível definir um conteúdo informativo, podendo utilizar componentes como por exemplo `po-chart`,
 * `po-table` e os demais componentes do PO.
 *
 * No rodapé encontram-se os botões de ação primária e secundária, no qual permitem definir uma ação e um rótulo, bem como
 * definir um estado de carregando e / ou desabilitado. Também é possível definir o botão com o tipo *danger*.
 *
 * > É possível fechar a modal através da tecla *ESC*, quando a propriedade `p-hide-close` não estiver habilitada.
 */
var PoModalBaseComponent = /** @class */ (function () {
    function PoModalBaseComponent() {
        this._hideClose = false;
        this._size = 'md';
        /**
         * Define o fechamento da modal ao clicar fora da mesma.
         * Informe o valor `true` para ativar o fechamento ao clicar fora da modal.
         */
        this.clickOut = false;
        // Controla se a modal fica oculto ou visível, por padrão é oculto
        this.isHidden = true;
        // Event emmiter para quando a modal é fechada pelo 'X'.
        this.onXClosed = new EventEmitter();
    }
    Object.defineProperty(PoModalBaseComponent.prototype, "size", {
        get: /**
         * @return {?}
         */
        function () {
            return this._size;
        },
        /**
         * Define o tamanho da modal.
         *
         * Valores válidos:
         *  - `sm` (pequeno)
         *  - `md` (médio)
         *  - `lg` (grande)
         *  - `xl` (extra grande)
         *  - `auto` (automático)
         *
         * > Quando informado `auto` a modal calculará automaticamente seu tamanho baseado em seu conteúdo.
         * Caso não seja informado um valor, a modal terá o tamanho definido como `md`.
         *
         * > Todas as opções de tamanho possuem uma largura máxima de **768px**.
         */
        set: /**
         * Define o tamanho da modal.
         *
         * Valores válidos:
         *  - `sm` (pequeno)
         *  - `md` (médio)
         *  - `lg` (grande)
         *  - `xl` (extra grande)
         *  - `auto` (automático)
         *
         * > Quando informado `auto` a modal calculará automaticamente seu tamanho baseado em seu conteúdo.
         * Caso não seja informado um valor, a modal terá o tamanho definido como `md`.
         *
         * > Todas as opções de tamanho possuem uma largura máxima de **768px**.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            /** @type {?} */
            var sizes = ['sm', 'md', 'lg', 'xl', 'auto'];
            this._size = sizes.indexOf(value) > -1 ? value : 'md';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoModalBaseComponent.prototype, "setClickOut", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.clickOut = (value === '') ? false : convertToBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoModalBaseComponent.prototype, "hideClose", {
        get: /**
         * @return {?}
         */
        function () {
            return this._hideClose;
        },
        /**
         * @optional
         *
         * @description
         *
         * Oculta o ícone de fechar do cabeçalho da modal.
         *
         * > Caso a propriedade estiver habilitada, não será possível fechar a modal através da tecla *ESC*.
         *
         * @default `false`
         */
        set: /**
         * \@optional
         *
         * \@description
         *
         * Oculta o ícone de fechar do cabeçalho da modal.
         *
         * > Caso a propriedade estiver habilitada, não será possível fechar a modal através da tecla *ESC*.
         *
         * \@default `false`
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._hideClose = convertToBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    /** Função para fechar a modal. */
    /**
     * Função para fechar a modal.
     * @param {?=} xClosed
     * @return {?}
     */
    PoModalBaseComponent.prototype.close = /**
     * Função para fechar a modal.
     * @param {?=} xClosed
     * @return {?}
     */
    function (xClosed) {
        if (xClosed === void 0) { xClosed = false; }
        this.isHidden = true;
        if (xClosed) {
            this.onXClosed.emit(xClosed);
        }
    };
    /** Função para abrir a modal. */
    /**
     * Função para abrir a modal.
     * @return {?}
     */
    PoModalBaseComponent.prototype.open = /**
     * Função para abrir a modal.
     * @return {?}
     */
    function () {
        this.validPrimaryAction();
        this.isHidden = false;
    };
    /**
     * @return {?}
     */
    PoModalBaseComponent.prototype.validPrimaryAction = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (!this.primaryAction) {
            this.primaryAction = {
                action: (/**
                 * @return {?}
                 */
                function () { return _this.close(); }),
                label: 'Ok',
            };
        }
        if (!this.primaryAction['action']) {
            this.primaryAction['action'] = (/**
             * @return {?}
             */
            function () { return _this.close(); });
        }
        if (!this.primaryAction['label']) {
            this.primaryAction['label'] = 'Ok';
        }
    };
    PoModalBaseComponent.propDecorators = {
        title: [{ type: Input, args: ['p-title',] }],
        primaryAction: [{ type: Input, args: ['p-primary-action',] }],
        secondaryAction: [{ type: Input, args: ['p-secondary-action',] }],
        size: [{ type: Input, args: ['p-size',] }],
        setClickOut: [{ type: Input, args: ['p-click-out',] }],
        hideClose: [{ type: Input, args: ['p-hide-close',] }]
    };
    return PoModalBaseComponent;
}());
export { PoModalBaseComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    PoModalBaseComponent.prototype._hideClose;
    /**
     * @type {?}
     * @private
     */
    PoModalBaseComponent.prototype._size;
    /**
     * Título da modal.
     * @type {?}
     */
    PoModalBaseComponent.prototype.title;
    /**
     * Deve ser definido um objeto que implementa a interface `PoModalAction` contendo a label e a função da primeira ação.
     * Caso esta propriedade não seja definida ou esteja incompleta, automaticamente será adicionado um botão de ação com
     * a função de fechar a modal.
     * @type {?}
     */
    PoModalBaseComponent.prototype.primaryAction;
    /**
     * Deve ser definido um objeto que implementa a interface `PoModalAction` contendo a label e a função da segunda ação.
     * @type {?}
     */
    PoModalBaseComponent.prototype.secondaryAction;
    /**
     * Define o fechamento da modal ao clicar fora da mesma.
     * Informe o valor `true` para ativar o fechamento ao clicar fora da modal.
     * @type {?}
     */
    PoModalBaseComponent.prototype.clickOut;
    /** @type {?} */
    PoModalBaseComponent.prototype.isHidden;
    /** @type {?} */
    PoModalBaseComponent.prototype.onXClosed;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbW9kYWwtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG9ydGluYXJpL3BvcnRpbmFyaS11aS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLW1vZGFsL3BvLW1vZGFsLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVwRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQWtCdEQ7SUFBQTtRQUVVLGVBQVUsR0FBYSxLQUFLLENBQUM7UUFDN0IsVUFBSyxHQUFZLElBQUksQ0FBQzs7Ozs7UUEyQzlCLGFBQVEsR0FBYSxLQUFLLENBQUM7O1FBeUIzQixhQUFRLEdBQUcsSUFBSSxDQUFDOztRQUdULGNBQVMsR0FBRyxJQUFJLFlBQVksRUFBVyxDQUFDO0lBaUNqRCxDQUFDO0lBMUVDLHNCQUFxQixzQ0FBSTs7OztRQUt6QjtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNwQixDQUFDO1FBdEJEOzs7Ozs7Ozs7Ozs7OztXQWNHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7UUFDSCxVQUEwQixLQUFhOztnQkFDL0IsS0FBSyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQztZQUM5QyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ3hELENBQUM7OztPQUFBO0lBV0Qsc0JBQTBCLDZDQUFXOzs7OztRQUFyQyxVQUFzQyxLQUF1QjtZQUMzRCxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25FLENBQUM7OztPQUFBO0lBYUQsc0JBQTJCLDJDQUFTOzs7O1FBSXBDO1lBQ0UsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQ3pCLENBQUM7UUFqQkQ7Ozs7Ozs7Ozs7V0FVRzs7Ozs7Ozs7Ozs7Ozs7UUFDSCxVQUFxQyxLQUFjO1lBQ2pELElBQUksQ0FBQyxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUMsQ0FBQzs7O09BQUE7SUFZRCxrQ0FBa0M7Ozs7OztJQUNsQyxvQ0FBSzs7Ozs7SUFBTCxVQUFNLE9BQWU7UUFBZix3QkFBQSxFQUFBLGVBQWU7UUFDbkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxPQUFPLEVBQUU7WUFDWCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM5QjtJQUNILENBQUM7SUFFRCxpQ0FBaUM7Ozs7O0lBQ2pDLG1DQUFJOzs7O0lBQUo7UUFDRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUUxQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDOzs7O0lBRUQsaURBQWtCOzs7SUFBbEI7UUFBQSxpQkFjQztRQWJDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxhQUFhLEdBQUc7Z0JBQ25CLE1BQU07OztnQkFBRSxjQUFNLE9BQUEsS0FBSSxDQUFDLEtBQUssRUFBRSxFQUFaLENBQVksQ0FBQTtnQkFDMUIsS0FBSyxFQUFFLElBQUk7YUFDWixDQUFDO1NBQ0g7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNqQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQzs7O1lBQUcsY0FBTSxPQUFBLEtBQUksQ0FBQyxLQUFLLEVBQUUsRUFBWixDQUFZLENBQUEsQ0FBQztTQUNuRDtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDO1NBQ3BDO0lBQ0gsQ0FBQzs7d0JBbkdBLEtBQUssU0FBQyxTQUFTO2dDQU9mLEtBQUssU0FBQyxrQkFBa0I7a0NBR3hCLEtBQUssU0FBQyxvQkFBb0I7dUJBaUIxQixLQUFLLFNBQUMsUUFBUTs4QkFjZCxLQUFLLFNBQUMsYUFBYTs0QkFlbkIsS0FBSyxTQUFDLGNBQWM7O0lBNkN2QiwyQkFBQztDQUFBLEFBM0dELElBMkdDO1NBM0dZLG9CQUFvQjs7Ozs7O0lBRS9CLDBDQUFxQzs7Ozs7SUFDckMscUNBQThCOzs7OztJQUc5QixxQ0FBZ0M7Ozs7Ozs7SUFPaEMsNkNBQXlEOzs7OztJQUd6RCwrQ0FBNkQ7Ozs7OztJQThCN0Qsd0NBQTJCOztJQXlCM0Isd0NBQWdCOztJQUdoQix5Q0FBK0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGNvbnZlcnRUb0Jvb2xlYW4gfSBmcm9tICcuLy4uLy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IHsgUG9Nb2RhbEFjdGlvbiB9IGZyb20gJy4vcG8tbW9kYWwtYWN0aW9uLmludGVyZmFjZSc7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTyBjb21wb25lbnRlIGBwby1tb2RhbGAgw6kgdXRpbGl6YWRvIHBhcmEgaW5jbHVpciBjb250ZcO6ZG9zIHLDoXBpZG9zIGUgaW5mb3JtYXRpdm9zLlxuICpcbiAqIE5vIGNhYmXDp2FsaG8gZG8gY29tcG9uZW50ZSDDqSBwb3Nzw612ZWwgZGVmaW5pciB1bSB0w610dWxvIGUgY29tbyB0YW1iw6ltIHBlcm1pdGUgb2N1bHRhciBvIMOtY29uZSBkZSBmZWNoYW1lbnRvIGRhIG1vZGFsLlxuICpcbiAqIEVtIHNldSBjb3JwbyDDqSBwb3Nzw612ZWwgZGVmaW5pciB1bSBjb250ZcO6ZG8gaW5mb3JtYXRpdm8sIHBvZGVuZG8gdXRpbGl6YXIgY29tcG9uZW50ZXMgY29tbyBwb3IgZXhlbXBsbyBgcG8tY2hhcnRgLFxuICogYHBvLXRhYmxlYCBlIG9zIGRlbWFpcyBjb21wb25lbnRlcyBkbyBQTy5cbiAqXG4gKiBObyByb2RhcMOpIGVuY29udHJhbS1zZSBvcyBib3TDtWVzIGRlIGHDp8OjbyBwcmltw6FyaWEgZSBzZWN1bmTDoXJpYSwgbm8gcXVhbCBwZXJtaXRlbSBkZWZpbmlyIHVtYSBhw6fDo28gZSB1bSByw7N0dWxvLCBiZW0gY29tb1xuICogZGVmaW5pciB1bSBlc3RhZG8gZGUgY2FycmVnYW5kbyBlIC8gb3UgZGVzYWJpbGl0YWRvLiBUYW1iw6ltIMOpIHBvc3PDrXZlbCBkZWZpbmlyIG8gYm90w6NvIGNvbSBvIHRpcG8gKmRhbmdlciouXG4gKlxuICogPiDDiSBwb3Nzw612ZWwgZmVjaGFyIGEgbW9kYWwgYXRyYXbDqXMgZGEgdGVjbGEgKkVTQyosIHF1YW5kbyBhIHByb3ByaWVkYWRlIGBwLWhpZGUtY2xvc2VgIG7Do28gZXN0aXZlciBoYWJpbGl0YWRhLlxuICovXG5leHBvcnQgY2xhc3MgUG9Nb2RhbEJhc2VDb21wb25lbnQge1xuXG4gIHByaXZhdGUgX2hpZGVDbG9zZT86IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfc2l6ZT86IHN0cmluZyA9ICdtZCc7XG5cbiAgLyoqIFTDrXR1bG8gZGEgbW9kYWwuICovXG4gIEBJbnB1dCgncC10aXRsZScpIHRpdGxlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIERldmUgc2VyIGRlZmluaWRvIHVtIG9iamV0byBxdWUgaW1wbGVtZW50YSBhIGludGVyZmFjZSBgUG9Nb2RhbEFjdGlvbmAgY29udGVuZG8gYSBsYWJlbCBlIGEgZnVuw6fDo28gZGEgcHJpbWVpcmEgYcOnw6NvLlxuICAgKiBDYXNvIGVzdGEgcHJvcHJpZWRhZGUgbsOjbyBzZWphIGRlZmluaWRhIG91IGVzdGVqYSBpbmNvbXBsZXRhLCBhdXRvbWF0aWNhbWVudGUgc2Vyw6EgYWRpY2lvbmFkbyB1bSBib3TDo28gZGUgYcOnw6NvIGNvbVxuICAgKiBhIGZ1bsOnw6NvIGRlIGZlY2hhciBhIG1vZGFsLlxuICAgKi9cbiAgQElucHV0KCdwLXByaW1hcnktYWN0aW9uJykgcHJpbWFyeUFjdGlvbj86IFBvTW9kYWxBY3Rpb247XG5cbiAgLyoqIERldmUgc2VyIGRlZmluaWRvIHVtIG9iamV0byBxdWUgaW1wbGVtZW50YSBhIGludGVyZmFjZSBgUG9Nb2RhbEFjdGlvbmAgY29udGVuZG8gYSBsYWJlbCBlIGEgZnVuw6fDo28gZGEgc2VndW5kYSBhw6fDo28uICovXG4gIEBJbnB1dCgncC1zZWNvbmRhcnktYWN0aW9uJykgc2Vjb25kYXJ5QWN0aW9uPzogUG9Nb2RhbEFjdGlvbjtcblxuICAvKipcbiAgICogRGVmaW5lIG8gdGFtYW5obyBkYSBtb2RhbC5cbiAgICpcbiAgICogVmFsb3JlcyB2w6FsaWRvczpcbiAgICogIC0gYHNtYCAocGVxdWVubylcbiAgICogIC0gYG1kYCAobcOpZGlvKVxuICAgKiAgLSBgbGdgIChncmFuZGUpXG4gICAqICAtIGB4bGAgKGV4dHJhIGdyYW5kZSlcbiAgICogIC0gYGF1dG9gIChhdXRvbcOhdGljbylcbiAgICpcbiAgICogPiBRdWFuZG8gaW5mb3JtYWRvIGBhdXRvYCBhIG1vZGFsIGNhbGN1bGFyw6EgYXV0b21hdGljYW1lbnRlIHNldSB0YW1hbmhvIGJhc2VhZG8gZW0gc2V1IGNvbnRlw7pkby5cbiAgICogQ2FzbyBuw6NvIHNlamEgaW5mb3JtYWRvIHVtIHZhbG9yLCBhIG1vZGFsIHRlcsOhIG8gdGFtYW5obyBkZWZpbmlkbyBjb21vIGBtZGAuXG4gICAqXG4gICAqID4gVG9kYXMgYXMgb3DDp8O1ZXMgZGUgdGFtYW5obyBwb3NzdWVtIHVtYSBsYXJndXJhIG3DoXhpbWEgZGUgKio3NjhweCoqLlxuICAgKi9cbiAgQElucHV0KCdwLXNpemUnKSBzZXQgc2l6ZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgY29uc3Qgc2l6ZXMgPSBbJ3NtJywgJ21kJywgJ2xnJywgJ3hsJywgJ2F1dG8nXTtcbiAgICB0aGlzLl9zaXplID0gc2l6ZXMuaW5kZXhPZih2YWx1ZSkgPiAtMSA/IHZhbHVlIDogJ21kJztcbiAgfVxuXG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmluZSBvIGZlY2hhbWVudG8gZGEgbW9kYWwgYW8gY2xpY2FyIGZvcmEgZGEgbWVzbWEuXG4gICAqIEluZm9ybWUgbyB2YWxvciBgdHJ1ZWAgcGFyYSBhdGl2YXIgbyBmZWNoYW1lbnRvIGFvIGNsaWNhciBmb3JhIGRhIG1vZGFsLlxuICAgKi9cbiAgY2xpY2tPdXQ/OiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgncC1jbGljay1vdXQnKSBzZXQgc2V0Q2xpY2tPdXQodmFsdWU6IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICB0aGlzLmNsaWNrT3V0ID0gKHZhbHVlID09PSAnJykgPyBmYWxzZSA6IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogT2N1bHRhIG8gw61jb25lIGRlIGZlY2hhciBkbyBjYWJlw6dhbGhvIGRhIG1vZGFsLlxuICAgKlxuICAgKiA+IENhc28gYSBwcm9wcmllZGFkZSBlc3RpdmVyIGhhYmlsaXRhZGEsIG7Do28gc2Vyw6EgcG9zc8OtdmVsIGZlY2hhciBhIG1vZGFsIGF0cmF2w6lzIGRhIHRlY2xhICpFU0MqLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3AtaGlkZS1jbG9zZScpIHNldCBoaWRlQ2xvc2UodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9oaWRlQ2xvc2UgPSBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBoaWRlQ2xvc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hpZGVDbG9zZTtcbiAgfVxuXG4gIC8vIENvbnRyb2xhIHNlIGEgbW9kYWwgZmljYSBvY3VsdG8gb3Ugdmlzw612ZWwsIHBvciBwYWRyw6NvIMOpIG9jdWx0b1xuICBpc0hpZGRlbiA9IHRydWU7XG5cbiAgLy8gRXZlbnQgZW1taXRlciBwYXJhIHF1YW5kbyBhIG1vZGFsIMOpIGZlY2hhZGEgcGVsbyAnWCcuXG4gIHB1YmxpYyBvblhDbG9zZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGJvb2xlYW4+KCk7XG5cbiAgLyoqIEZ1bsOnw6NvIHBhcmEgZmVjaGFyIGEgbW9kYWwuICovXG4gIGNsb3NlKHhDbG9zZWQgPSBmYWxzZSk6IHZvaWQge1xuICAgIHRoaXMuaXNIaWRkZW4gPSB0cnVlO1xuICAgIGlmICh4Q2xvc2VkKSB7XG4gICAgICB0aGlzLm9uWENsb3NlZC5lbWl0KHhDbG9zZWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBGdW7Dp8OjbyBwYXJhIGFicmlyIGEgbW9kYWwuICovXG4gIG9wZW4oKTogdm9pZCB7XG4gICAgdGhpcy52YWxpZFByaW1hcnlBY3Rpb24oKTtcblxuICAgIHRoaXMuaXNIaWRkZW4gPSBmYWxzZTtcbiAgfVxuXG4gIHZhbGlkUHJpbWFyeUFjdGlvbigpIHtcbiAgICBpZiAoIXRoaXMucHJpbWFyeUFjdGlvbikge1xuICAgICAgdGhpcy5wcmltYXJ5QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2xvc2UoKSxcbiAgICAgICAgbGFiZWw6ICdPaycsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wcmltYXJ5QWN0aW9uWydhY3Rpb24nXSkge1xuICAgICAgdGhpcy5wcmltYXJ5QWN0aW9uWydhY3Rpb24nXSA9ICgpID0+IHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnByaW1hcnlBY3Rpb25bJ2xhYmVsJ10pIHtcbiAgICAgIHRoaXMucHJpbWFyeUFjdGlvblsnbGFiZWwnXSA9ICdPayc7XG4gICAgfVxuICB9XG5cbn1cbiJdfQ==
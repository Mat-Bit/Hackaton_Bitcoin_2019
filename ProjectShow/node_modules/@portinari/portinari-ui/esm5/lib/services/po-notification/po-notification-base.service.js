/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { PoToasterOrientation } from './po-toaster/po-toaster-orientation.enum';
import { PoToasterType } from './po-toaster/po-toaster-type.enum';
/**
 * \@description
 *
 * Serviço responsável por emitir as notificações em uma página. São disponibilizados os métodos de:
 *
 * - success,
 * - warning,
 * - error,
 * - information.
 *
 * Cada um destes métodos recebe como parâmetro o objeto "PoNotification" que contém os dados da mensagem e o
 * objeto ViewContainerRef que é a representação do container do componente onde será criada a notificação.
 *
 * Estas notificações serão exibidas durante 10 segundos por padrão, podendo ser alterada conforme necessidade.
 * Após este tempo a mesma é removida automaticamente.
 *
 * @abstract
 */
var /**
 * \@description
 *
 * Serviço responsável por emitir as notificações em uma página. São disponibilizados os métodos de:
 *
 * - success,
 * - warning,
 * - error,
 * - information.
 *
 * Cada um destes métodos recebe como parâmetro o objeto "PoNotification" que contém os dados da mensagem e o
 * objeto ViewContainerRef que é a representação do container do componente onde será criada a notificação.
 *
 * Estas notificações serão exibidas durante 10 segundos por padrão, podendo ser alterada conforme necessidade.
 * Após este tempo a mesma é removida automaticamente.
 *
 * @abstract
 */
PoNotificationBaseService = /** @class */ (function () {
    function PoNotificationBaseService() {
        // Array responsável por guardar a instância de po-toaster's superiores.
        this.stackTop = [];
        // Array responsável por guardar a instância de po-toaster's inferiores.
        this.stackBottom = [];
        // Duração da notificação ativa.
        this.defaultDuration = 10000;
    }
    /**
     * Emite uma notificação de sucesso.
     *
     * @param notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação.
     */
    /**
     * Emite uma notificação de sucesso.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação.
     * @return {?}
     */
    PoNotificationBaseService.prototype.success = /**
     * Emite uma notificação de sucesso.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação.
     * @return {?}
     */
    function (notification) {
        this.createToaster(this.buildToaster(notification, PoToasterType.Success));
    };
    /**
     * Emite uma notificação de atenção.
     *
     * @param notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     */
    /**
     * Emite uma notificação de atenção.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    PoNotificationBaseService.prototype.warning = /**
     * Emite uma notificação de atenção.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    function (notification) {
        this.createToaster(this.buildToaster(notification, PoToasterType.Warning));
    };
    /**
     * Emite uma notificação de erro.
     *
     * @param notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     */
    /**
     * Emite uma notificação de erro.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    PoNotificationBaseService.prototype.error = /**
     * Emite uma notificação de erro.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    function (notification) {
        this.createToaster(this.buildToaster(notification, PoToasterType.Error));
    };
    /**
     * Emite uma notificação de informação.
     *
     * @param notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     */
    /**
     * Emite uma notificação de informação.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    PoNotificationBaseService.prototype.information = /**
     * Emite uma notificação de informação.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    function (notification) {
        this.createToaster(this.buildToaster(notification, PoToasterType.Information));
    };
    /**
     * Define em milissegundos a duração padrão para as notificações.
     *
     * > Padrão 10 segundos.
     *
     * @param defaultDuration {number} Duração em milisegundos
     */
    /**
     * Define em milissegundos a duração padrão para as notificações.
     *
     * > Padrão 10 segundos.
     *
     * @param {?} defaultDuration {number} Duração em milisegundos
     * @return {?}
     */
    PoNotificationBaseService.prototype.setDefaultDuration = /**
     * Define em milissegundos a duração padrão para as notificações.
     *
     * > Padrão 10 segundos.
     *
     * @param {?} defaultDuration {number} Duração em milisegundos
     * @return {?}
     */
    function (defaultDuration) {
        this.defaultDuration = defaultDuration;
    };
    /**
     * @docsPrivate
     *
     * Cria um objeto do tipo PoToaster de acordo o tipo.
     *
     * @param notification {PoNotification | string} Objeto PoNotification com os dados da notificação
     */
    /**
     * \@docsPrivate
     *
     * Cria um objeto do tipo PoToaster de acordo o tipo.
     *
     * @private
     * @param {?} notification {PoNotification | string} Objeto PoNotification com os dados da notificação
     * @param {?} type
     * @return {?}
     */
    PoNotificationBaseService.prototype.buildToaster = /**
     * \@docsPrivate
     *
     * Cria um objeto do tipo PoToaster de acordo o tipo.
     *
     * @private
     * @param {?} notification {PoNotification | string} Objeto PoNotification com os dados da notificação
     * @param {?} type
     * @return {?}
     */
    function (notification, type) {
        var _this = this;
        /** @type {?} */
        var index = 0;
        /** @type {?} */
        var orientation;
        if (((/** @type {?} */ (notification))).orientation === undefined ||
            ((/** @type {?} */ (notification))).orientation === PoToasterOrientation.Bottom) {
            index = this.stackBottom.length;
            orientation = PoToasterOrientation.Bottom;
        }
        else {
            index = this.stackTop.length;
            orientation = PoToasterOrientation.Top;
        }
        /** @type {?} */
        var toaster = {
            componentRef: undefined,
            message: ((/** @type {?} */ (notification))).message || (/** @type {?} */ (notification)),
            type: type,
            orientation: orientation,
            action: ((/** @type {?} */ (notification))).action,
            actionLabel: ((/** @type {?} */ (notification))).actionLabel,
            position: index,
            duration: ((/** @type {?} */ (notification))).duration || this.defaultDuration
        };
        if (((/** @type {?} */ (notification))).action) {
            toaster.action = (/**
             * @param {?} param
             * @return {?}
             */
            function (param) {
                ((/** @type {?} */ (notification))).action();
                _this.destroyToaster(param.componentRef);
            });
        }
        return toaster;
    };
    return PoNotificationBaseService;
}());
/**
 * \@description
 *
 * Serviço responsável por emitir as notificações em uma página. São disponibilizados os métodos de:
 *
 * - success,
 * - warning,
 * - error,
 * - information.
 *
 * Cada um destes métodos recebe como parâmetro o objeto "PoNotification" que contém os dados da mensagem e o
 * objeto ViewContainerRef que é a representação do container do componente onde será criada a notificação.
 *
 * Estas notificações serão exibidas durante 10 segundos por padrão, podendo ser alterada conforme necessidade.
 * Após este tempo a mesma é removida automaticamente.
 *
 * @abstract
 */
export { PoNotificationBaseService };
if (false) {
    /** @type {?} */
    PoNotificationBaseService.prototype.stackTop;
    /** @type {?} */
    PoNotificationBaseService.prototype.stackBottom;
    /**
     * @type {?}
     * @private
     */
    PoNotificationBaseService.prototype.defaultDuration;
    /**
     * \@docsPrivate
     *
     * Método responsável por criar o po-toaster.
     *
     * @abstract
     * @param {?} toaster {PoToaster} Objeto contendo as informações do toaster.
     * @return {?}
     */
    PoNotificationBaseService.prototype.createToaster = function (toaster) { };
    /**
     * \@docsPrivate
     *
     * Método responsável por destruir o po-toaster.
     *
     * @abstract
     * @param {?} toaster {ComponentRef} Número da posição ou instancia do toaster a ser destruído.
     * @return {?}
     */
    PoNotificationBaseService.prototype.destroyToaster = function (toaster) { };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbm90aWZpY2F0aW9uLWJhc2Uuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwb3J0aW5hcmkvcG9ydGluYXJpLXVpLyIsInNvdXJjZXMiOlsibGliL3NlcnZpY2VzL3BvLW5vdGlmaWNhdGlvbi9wby1ub3RpZmljYXRpb24tYmFzZS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFJQSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQ0FBMEMsQ0FBQztBQUNoRixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtQmxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBQUE7O1FBR0UsYUFBUSxHQUE2QixFQUFFLENBQUM7O1FBR3hDLGdCQUFXLEdBQTZCLEVBQUUsQ0FBQzs7UUFHbkMsb0JBQWUsR0FBRyxLQUFLLENBQUM7SUE2R2xDLENBQUM7SUEzR0M7Ozs7T0FJRzs7Ozs7OztJQUNJLDJDQUFPOzs7Ozs7SUFBZCxVQUFlLFlBQXFDO1FBQ2xELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDN0UsQ0FBQztJQUVEOzs7O09BSUc7Ozs7Ozs7SUFDSSwyQ0FBTzs7Ozs7O0lBQWQsVUFBZSxZQUFxQztRQUNsRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzdFLENBQUM7SUFFRDs7OztPQUlHOzs7Ozs7O0lBQ0kseUNBQUs7Ozs7OztJQUFaLFVBQWEsWUFBcUM7UUFDaEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMzRSxDQUFDO0lBRUQ7Ozs7T0FJRzs7Ozs7OztJQUNJLCtDQUFXOzs7Ozs7SUFBbEIsVUFBbUIsWUFBcUM7UUFDdEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRUQ7Ozs7OztPQU1HOzs7Ozs7Ozs7SUFDSSxzREFBa0I7Ozs7Ozs7O0lBQXpCLFVBQTBCLGVBQXVCO1FBQy9DLElBQUksQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO0lBQ3pDLENBQUM7SUFFRDs7Ozs7O09BTUc7Ozs7Ozs7Ozs7O0lBQ0ssZ0RBQVk7Ozs7Ozs7Ozs7SUFBcEIsVUFBcUIsWUFBcUMsRUFBRSxJQUFtQjtRQUEvRSxpQkFnQ0M7O1lBL0JLLEtBQUssR0FBRyxDQUFDOztZQUNULFdBQVc7UUFFZixJQUFJLENBQUMsbUJBQWdCLFlBQVksRUFBQSxDQUFDLENBQUMsV0FBVyxLQUFLLFNBQVM7WUFDeEQsQ0FBQyxtQkFBZ0IsWUFBWSxFQUFBLENBQUMsQ0FBQyxXQUFXLEtBQUssb0JBQW9CLENBQUMsTUFBTSxFQUFFO1lBQzlFLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQztZQUNoQyxXQUFXLEdBQUcsb0JBQW9CLENBQUMsTUFBTSxDQUFDO1NBQzNDO2FBQU07WUFDTCxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7WUFDN0IsV0FBVyxHQUFHLG9CQUFvQixDQUFDLEdBQUcsQ0FBQztTQUN4Qzs7WUFFSyxPQUFPLEdBQWM7WUFDekIsWUFBWSxFQUFFLFNBQVM7WUFDdkIsT0FBTyxFQUFFLENBQUMsbUJBQWdCLFlBQVksRUFBQSxDQUFDLENBQUMsT0FBTyxJQUFJLG1CQUFRLFlBQVksRUFBQTtZQUN2RSxJQUFJLEVBQUUsSUFBSTtZQUNWLFdBQVcsRUFBRSxXQUFXO1lBQ3hCLE1BQU0sRUFBRSxDQUFDLG1CQUFnQixZQUFZLEVBQUEsQ0FBQyxDQUFDLE1BQU07WUFDN0MsV0FBVyxFQUFFLENBQUMsbUJBQWdCLFlBQVksRUFBQSxDQUFDLENBQUMsV0FBVztZQUN2RCxRQUFRLEVBQUUsS0FBSztZQUNmLFFBQVEsRUFBRSxDQUFDLG1CQUFnQixZQUFZLEVBQUEsQ0FBQyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsZUFBZTtTQUMxRTtRQUVELElBQUksQ0FBQyxtQkFBZ0IsWUFBWSxFQUFBLENBQUMsQ0FBQyxNQUFNLEVBQUU7WUFDekMsT0FBTyxDQUFDLE1BQU07Ozs7WUFBRyxVQUFDLEtBQVU7Z0JBQzFCLENBQUMsbUJBQWdCLFlBQVksRUFBQSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3hDLEtBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQzFDLENBQUMsQ0FBQSxDQUFDO1NBQ0g7UUFFRCxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0lBcUJILGdDQUFDO0FBQUQsQ0FBQyxBQXRIRCxJQXNIQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW5IQyw2Q0FBd0M7O0lBR3hDLGdEQUEyQzs7Ozs7SUFHM0Msb0RBQWdDOzs7Ozs7Ozs7O0lBaUdoQywyRUFBaUQ7Ozs7Ozs7Ozs7SUFVakQsNEVBQTBEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50UmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFBvTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9wby1ub3RpZmljYXRpb24uaW50ZXJmYWNlJztcbmltcG9ydCB7IFBvVG9hc3RlciB9IGZyb20gJy4vcG8tdG9hc3Rlci9wby10b2FzdGVyLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1RvYXN0ZXJPcmllbnRhdGlvbiB9IGZyb20gJy4vcG8tdG9hc3Rlci9wby10b2FzdGVyLW9yaWVudGF0aW9uLmVudW0nO1xuaW1wb3J0IHsgUG9Ub2FzdGVyVHlwZSB9IGZyb20gJy4vcG8tdG9hc3Rlci9wby10b2FzdGVyLXR5cGUuZW51bSc7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU2VydmnDp28gcmVzcG9uc8OhdmVsIHBvciBlbWl0aXIgYXMgbm90aWZpY2HDp8O1ZXMgZW0gdW1hIHDDoWdpbmEuIFPDo28gZGlzcG9uaWJpbGl6YWRvcyBvcyBtw6l0b2RvcyBkZTpcbiAqXG4gKiAtIHN1Y2Nlc3MsXG4gKiAtIHdhcm5pbmcsXG4gKiAtIGVycm9yLFxuICogLSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBDYWRhIHVtIGRlc3RlcyBtw6l0b2RvcyByZWNlYmUgY29tbyBwYXLDom1ldHJvIG8gb2JqZXRvIFwiUG9Ob3RpZmljYXRpb25cIiBxdWUgY29udMOpbSBvcyBkYWRvcyBkYSBtZW5zYWdlbSBlIG9cbiAqIG9iamV0byBWaWV3Q29udGFpbmVyUmVmIHF1ZSDDqSBhIHJlcHJlc2VudGHDp8OjbyBkbyBjb250YWluZXIgZG8gY29tcG9uZW50ZSBvbmRlIHNlcsOhIGNyaWFkYSBhIG5vdGlmaWNhw6fDo28uXG4gKlxuICogRXN0YXMgbm90aWZpY2HDp8O1ZXMgc2Vyw6NvIGV4aWJpZGFzIGR1cmFudGUgMTAgc2VndW5kb3MgcG9yIHBhZHLDo28sIHBvZGVuZG8gc2VyIGFsdGVyYWRhIGNvbmZvcm1lIG5lY2Vzc2lkYWRlLlxuICogQXDDs3MgZXN0ZSB0ZW1wbyBhIG1lc21hIMOpIHJlbW92aWRhIGF1dG9tYXRpY2FtZW50ZS5cbiAqXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQb05vdGlmaWNhdGlvbkJhc2VTZXJ2aWNlIHtcblxuICAgLy8gQXJyYXkgcmVzcG9uc8OhdmVsIHBvciBndWFyZGFyIGEgaW5zdMOibmNpYSBkZSBwby10b2FzdGVyJ3Mgc3VwZXJpb3Jlcy5cbiAgc3RhY2tUb3A6IEFycmF5PENvbXBvbmVudFJlZjxhbnk+PiA9IFtdO1xuXG4gIC8vIEFycmF5IHJlc3BvbnPDoXZlbCBwb3IgZ3VhcmRhciBhIGluc3TDom5jaWEgZGUgcG8tdG9hc3RlcidzIGluZmVyaW9yZXMuXG4gIHN0YWNrQm90dG9tOiBBcnJheTxDb21wb25lbnRSZWY8YW55Pj4gPSBbXTtcblxuICAvLyBEdXJhw6fDo28gZGEgbm90aWZpY2HDp8OjbyBhdGl2YS5cbiAgcHJpdmF0ZSBkZWZhdWx0RHVyYXRpb24gPSAxMDAwMDtcblxuICAvKipcbiAgICogRW1pdGUgdW1hIG5vdGlmaWNhw6fDo28gZGUgc3VjZXNzby5cbiAgICpcbiAgICogQHBhcmFtIG5vdGlmaWNhdGlvbiB7UG9Ob3RpZmljYXRpb24gfCBzdHJpbmd9IE9iamV0byBjb20gb3MgZGFkb3MgZGEgbm90aWZpY2HDp8OjbyBvdSBzb21lbnRlIGEgc3RyaW5nIGNvbSBhIG1lbnNhZ2VtIGRhIG5vdGlmaWNhw6fDo28uXG4gICAqL1xuICBwdWJsaWMgc3VjY2Vzcyhub3RpZmljYXRpb246IFBvTm90aWZpY2F0aW9uIHwgc3RyaW5nKSB7XG4gICAgdGhpcy5jcmVhdGVUb2FzdGVyKHRoaXMuYnVpbGRUb2FzdGVyKG5vdGlmaWNhdGlvbiwgUG9Ub2FzdGVyVHlwZS5TdWNjZXNzKSk7XG4gIH1cblxuICAvKipcbiAgICogRW1pdGUgdW1hIG5vdGlmaWNhw6fDo28gZGUgYXRlbsOnw6NvLlxuICAgKlxuICAgKiBAcGFyYW0gbm90aWZpY2F0aW9uIHtQb05vdGlmaWNhdGlvbiB8IHN0cmluZ30gT2JqZXRvIGNvbSBvcyBkYWRvcyBkYSBub3RpZmljYcOnw6NvIG91IHNvbWVudGUgYSBzdHJpbmcgY29tIGEgbWVuc2FnZW0gZGEgbm90aWZpY2HDp8Ojb1xuICAgKi9cbiAgcHVibGljIHdhcm5pbmcobm90aWZpY2F0aW9uOiBQb05vdGlmaWNhdGlvbiB8IHN0cmluZykge1xuICAgIHRoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcihub3RpZmljYXRpb24sIFBvVG9hc3RlclR5cGUuV2FybmluZykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRlIHVtYSBub3RpZmljYcOnw6NvIGRlIGVycm8uXG4gICAqXG4gICAqIEBwYXJhbSBub3RpZmljYXRpb24ge1BvTm90aWZpY2F0aW9uIHwgc3RyaW5nfSBPYmpldG8gY29tIG9zIGRhZG9zIGRhIG5vdGlmaWNhw6fDo28gb3Ugc29tZW50ZSBhIHN0cmluZyBjb20gYSBtZW5zYWdlbSBkYSBub3RpZmljYcOnw6NvXG4gICAqL1xuICBwdWJsaWMgZXJyb3Iobm90aWZpY2F0aW9uOiBQb05vdGlmaWNhdGlvbiB8IHN0cmluZykge1xuICAgIHRoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcihub3RpZmljYXRpb24sIFBvVG9hc3RlclR5cGUuRXJyb3IpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0ZSB1bWEgbm90aWZpY2HDp8OjbyBkZSBpbmZvcm1hw6fDo28uXG4gICAqXG4gICAqIEBwYXJhbSBub3RpZmljYXRpb24ge1BvTm90aWZpY2F0aW9uIHwgc3RyaW5nfSBPYmpldG8gY29tIG9zIGRhZG9zIGRhIG5vdGlmaWNhw6fDo28gb3Ugc29tZW50ZSBhIHN0cmluZyBjb20gYSBtZW5zYWdlbSBkYSBub3RpZmljYcOnw6NvXG4gICAqL1xuICBwdWJsaWMgaW5mb3JtYXRpb24obm90aWZpY2F0aW9uOiBQb05vdGlmaWNhdGlvbiB8IHN0cmluZykge1xuICAgIHRoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcihub3RpZmljYXRpb24sIFBvVG9hc3RlclR5cGUuSW5mb3JtYXRpb24pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmUgZW0gbWlsaXNzZWd1bmRvcyBhIGR1cmHDp8OjbyBwYWRyw6NvIHBhcmEgYXMgbm90aWZpY2HDp8O1ZXMuXG4gICAqXG4gICAqID4gUGFkcsOjbyAxMCBzZWd1bmRvcy5cbiAgICpcbiAgICogQHBhcmFtIGRlZmF1bHREdXJhdGlvbiB7bnVtYmVyfSBEdXJhw6fDo28gZW0gbWlsaXNlZ3VuZG9zXG4gICAqL1xuICBwdWJsaWMgc2V0RGVmYXVsdER1cmF0aW9uKGRlZmF1bHREdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgdGhpcy5kZWZhdWx0RHVyYXRpb24gPSBkZWZhdWx0RHVyYXRpb247XG4gIH1cblxuICAvKipcbiAgICogQGRvY3NQcml2YXRlXG4gICAqXG4gICAqIENyaWEgdW0gb2JqZXRvIGRvIHRpcG8gUG9Ub2FzdGVyIGRlIGFjb3JkbyBvIHRpcG8uXG4gICAqXG4gICAqIEBwYXJhbSBub3RpZmljYXRpb24ge1BvTm90aWZpY2F0aW9uIHwgc3RyaW5nfSBPYmpldG8gUG9Ob3RpZmljYXRpb24gY29tIG9zIGRhZG9zIGRhIG5vdGlmaWNhw6fDo29cbiAgICovXG4gIHByaXZhdGUgYnVpbGRUb2FzdGVyKG5vdGlmaWNhdGlvbjogUG9Ob3RpZmljYXRpb24gfCBzdHJpbmcsIHR5cGU6IFBvVG9hc3RlclR5cGUpOiBQb1RvYXN0ZXIge1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgbGV0IG9yaWVudGF0aW9uO1xuXG4gICAgaWYgKCg8UG9Ob3RpZmljYXRpb24+bm90aWZpY2F0aW9uKS5vcmllbnRhdGlvbiA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICg8UG9Ob3RpZmljYXRpb24+bm90aWZpY2F0aW9uKS5vcmllbnRhdGlvbiA9PT0gUG9Ub2FzdGVyT3JpZW50YXRpb24uQm90dG9tKSB7XG4gICAgICBpbmRleCA9IHRoaXMuc3RhY2tCb3R0b20ubGVuZ3RoO1xuICAgICAgb3JpZW50YXRpb24gPSBQb1RvYXN0ZXJPcmllbnRhdGlvbi5Cb3R0b207XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZGV4ID0gdGhpcy5zdGFja1RvcC5sZW5ndGg7XG4gICAgICBvcmllbnRhdGlvbiA9IFBvVG9hc3Rlck9yaWVudGF0aW9uLlRvcDtcbiAgICB9XG5cbiAgICBjb25zdCB0b2FzdGVyOiBQb1RvYXN0ZXIgPSB7XG4gICAgICBjb21wb25lbnRSZWY6IHVuZGVmaW5lZCxcbiAgICAgIG1lc3NhZ2U6ICg8UG9Ob3RpZmljYXRpb24+bm90aWZpY2F0aW9uKS5tZXNzYWdlIHx8IDxzdHJpbmc+bm90aWZpY2F0aW9uLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgIGFjdGlvbjogKDxQb05vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLmFjdGlvbixcbiAgICAgIGFjdGlvbkxhYmVsOiAoPFBvTm90aWZpY2F0aW9uPm5vdGlmaWNhdGlvbikuYWN0aW9uTGFiZWwsXG4gICAgICBwb3NpdGlvbjogaW5kZXgsXG4gICAgICBkdXJhdGlvbjogKDxQb05vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLmR1cmF0aW9uIHx8IHRoaXMuZGVmYXVsdER1cmF0aW9uXG4gICAgfTtcblxuICAgIGlmICgoPFBvTm90aWZpY2F0aW9uPm5vdGlmaWNhdGlvbikuYWN0aW9uKSB7XG4gICAgICB0b2FzdGVyLmFjdGlvbiA9IChwYXJhbTogYW55KSA9PiB7XG4gICAgICAgICg8UG9Ob3RpZmljYXRpb24+bm90aWZpY2F0aW9uKS5hY3Rpb24oKTtcbiAgICAgICAgdGhpcy5kZXN0cm95VG9hc3RlcihwYXJhbS5jb21wb25lbnRSZWYpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9hc3RlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZG9jc1ByaXZhdGVcbiAgICpcbiAgICogTcOpdG9kbyByZXNwb25zw6F2ZWwgcG9yIGNyaWFyIG8gcG8tdG9hc3Rlci5cbiAgICpcbiAgICogQHBhcmFtIHRvYXN0ZXIge1BvVG9hc3Rlcn0gT2JqZXRvIGNvbnRlbmRvIGFzIGluZm9ybWHDp8O1ZXMgZG8gdG9hc3Rlci5cbiAgICovXG4gIGFic3RyYWN0IGNyZWF0ZVRvYXN0ZXIodG9hc3RlcjogUG9Ub2FzdGVyKTogdm9pZDtcblxuICAvKipcbiAgICogQGRvY3NQcml2YXRlXG4gICAqXG4gICAqIE3DqXRvZG8gcmVzcG9uc8OhdmVsIHBvciBkZXN0cnVpciBvIHBvLXRvYXN0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB0b2FzdGVyIHtDb21wb25lbnRSZWZ9IE7Dum1lcm8gZGEgcG9zacOnw6NvIG91IGluc3RhbmNpYSBkbyB0b2FzdGVyIGEgc2VyIGRlc3RydcOtZG8uXG4gICAqIEBwYXJhbSBvcmllbnRhdGlvbiB7UG9Ub2FzdGVyT3JpZW50YXRpb259IE9yaWVudGHDp8OjbyBkbyBQb1RvYXN0ZXI6IFRvcCBvdSBCb3R0b21cbiAgICovXG4gIGFic3RyYWN0IGRlc3Ryb3lUb2FzdGVyKHRvYXN0ZXI6IENvbXBvbmVudFJlZjxhbnk+KTogdm9pZDtcblxufVxuIl19
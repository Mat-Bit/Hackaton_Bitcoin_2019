/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { PoToasterOrientation } from './po-toaster/po-toaster-orientation.enum';
import { PoToasterType } from './po-toaster/po-toaster-type.enum';
/**
 * \@description
 *
 * Serviço responsável por emitir as notificações em uma página. São disponibilizados os métodos de:
 *
 * - success,
 * - warning,
 * - error,
 * - information.
 *
 * Cada um destes métodos recebe como parâmetro o objeto "PoNotification" que contém os dados da mensagem e o
 * objeto ViewContainerRef que é a representação do container do componente onde será criada a notificação.
 *
 * Estas notificações serão exibidas durante 10 segundos por padrão, podendo ser alterada conforme necessidade.
 * Após este tempo a mesma é removida automaticamente.
 *
 * @abstract
 */
export class PoNotificationBaseService {
    constructor() {
        // Array responsável por guardar a instância de po-toaster's superiores.
        this.stackTop = [];
        // Array responsável por guardar a instância de po-toaster's inferiores.
        this.stackBottom = [];
        // Duração da notificação ativa.
        this.defaultDuration = 10000;
    }
    /**
     * Emite uma notificação de sucesso.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação.
     * @return {?}
     */
    success(notification) {
        this.createToaster(this.buildToaster(notification, PoToasterType.Success));
    }
    /**
     * Emite uma notificação de atenção.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    warning(notification) {
        this.createToaster(this.buildToaster(notification, PoToasterType.Warning));
    }
    /**
     * Emite uma notificação de erro.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    error(notification) {
        this.createToaster(this.buildToaster(notification, PoToasterType.Error));
    }
    /**
     * Emite uma notificação de informação.
     *
     * @param {?} notification {PoNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    information(notification) {
        this.createToaster(this.buildToaster(notification, PoToasterType.Information));
    }
    /**
     * Define em milissegundos a duração padrão para as notificações.
     *
     * > Padrão 10 segundos.
     *
     * @param {?} defaultDuration {number} Duração em milisegundos
     * @return {?}
     */
    setDefaultDuration(defaultDuration) {
        this.defaultDuration = defaultDuration;
    }
    /**
     * \@docsPrivate
     *
     * Cria um objeto do tipo PoToaster de acordo o tipo.
     *
     * @private
     * @param {?} notification {PoNotification | string} Objeto PoNotification com os dados da notificação
     * @param {?} type
     * @return {?}
     */
    buildToaster(notification, type) {
        /** @type {?} */
        let index = 0;
        /** @type {?} */
        let orientation;
        if (((/** @type {?} */ (notification))).orientation === undefined ||
            ((/** @type {?} */ (notification))).orientation === PoToasterOrientation.Bottom) {
            index = this.stackBottom.length;
            orientation = PoToasterOrientation.Bottom;
        }
        else {
            index = this.stackTop.length;
            orientation = PoToasterOrientation.Top;
        }
        /** @type {?} */
        const toaster = {
            componentRef: undefined,
            message: ((/** @type {?} */ (notification))).message || (/** @type {?} */ (notification)),
            type: type,
            orientation: orientation,
            action: ((/** @type {?} */ (notification))).action,
            actionLabel: ((/** @type {?} */ (notification))).actionLabel,
            position: index,
            duration: ((/** @type {?} */ (notification))).duration || this.defaultDuration
        };
        if (((/** @type {?} */ (notification))).action) {
            toaster.action = (/**
             * @param {?} param
             * @return {?}
             */
            (param) => {
                ((/** @type {?} */ (notification))).action();
                this.destroyToaster(param.componentRef);
            });
        }
        return toaster;
    }
}
if (false) {
    /** @type {?} */
    PoNotificationBaseService.prototype.stackTop;
    /** @type {?} */
    PoNotificationBaseService.prototype.stackBottom;
    /**
     * @type {?}
     * @private
     */
    PoNotificationBaseService.prototype.defaultDuration;
    /**
     * \@docsPrivate
     *
     * Método responsável por criar o po-toaster.
     *
     * @abstract
     * @param {?} toaster {PoToaster} Objeto contendo as informações do toaster.
     * @return {?}
     */
    PoNotificationBaseService.prototype.createToaster = function (toaster) { };
    /**
     * \@docsPrivate
     *
     * Método responsável por destruir o po-toaster.
     *
     * @abstract
     * @param {?} toaster {ComponentRef} Número da posição ou instancia do toaster a ser destruído.
     * @return {?}
     */
    PoNotificationBaseService.prototype.destroyToaster = function (toaster) { };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbm90aWZpY2F0aW9uLWJhc2Uuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwb3J0aW5hcmkvcG9ydGluYXJpLXVpLyIsInNvdXJjZXMiOlsibGliL3NlcnZpY2VzL3BvLW5vdGlmaWNhdGlvbi9wby1ub3RpZmljYXRpb24tYmFzZS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFJQSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQ0FBMEMsQ0FBQztBQUNoRixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtQmxFLE1BQU0sT0FBZ0IseUJBQXlCO0lBQS9DOztRQUdFLGFBQVEsR0FBNkIsRUFBRSxDQUFDOztRQUd4QyxnQkFBVyxHQUE2QixFQUFFLENBQUM7O1FBR25DLG9CQUFlLEdBQUcsS0FBSyxDQUFDO0lBNkdsQyxDQUFDOzs7Ozs7O0lBdEdRLE9BQU8sQ0FBQyxZQUFxQztRQUNsRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzdFLENBQUM7Ozs7Ozs7SUFPTSxPQUFPLENBQUMsWUFBcUM7UUFDbEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUM3RSxDQUFDOzs7Ozs7O0lBT00sS0FBSyxDQUFDLFlBQXFDO1FBQ2hELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDM0UsQ0FBQzs7Ozs7OztJQU9NLFdBQVcsQ0FBQyxZQUFxQztRQUN0RCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0lBQ2pGLENBQUM7Ozs7Ozs7OztJQVNNLGtCQUFrQixDQUFDLGVBQXVCO1FBQy9DLElBQUksQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO0lBQ3pDLENBQUM7Ozs7Ozs7Ozs7O0lBU08sWUFBWSxDQUFDLFlBQXFDLEVBQUUsSUFBbUI7O1lBQ3pFLEtBQUssR0FBRyxDQUFDOztZQUNULFdBQVc7UUFFZixJQUFJLENBQUMsbUJBQWdCLFlBQVksRUFBQSxDQUFDLENBQUMsV0FBVyxLQUFLLFNBQVM7WUFDeEQsQ0FBQyxtQkFBZ0IsWUFBWSxFQUFBLENBQUMsQ0FBQyxXQUFXLEtBQUssb0JBQW9CLENBQUMsTUFBTSxFQUFFO1lBQzlFLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQztZQUNoQyxXQUFXLEdBQUcsb0JBQW9CLENBQUMsTUFBTSxDQUFDO1NBQzNDO2FBQU07WUFDTCxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7WUFDN0IsV0FBVyxHQUFHLG9CQUFvQixDQUFDLEdBQUcsQ0FBQztTQUN4Qzs7Y0FFSyxPQUFPLEdBQWM7WUFDekIsWUFBWSxFQUFFLFNBQVM7WUFDdkIsT0FBTyxFQUFFLENBQUMsbUJBQWdCLFlBQVksRUFBQSxDQUFDLENBQUMsT0FBTyxJQUFJLG1CQUFRLFlBQVksRUFBQTtZQUN2RSxJQUFJLEVBQUUsSUFBSTtZQUNWLFdBQVcsRUFBRSxXQUFXO1lBQ3hCLE1BQU0sRUFBRSxDQUFDLG1CQUFnQixZQUFZLEVBQUEsQ0FBQyxDQUFDLE1BQU07WUFDN0MsV0FBVyxFQUFFLENBQUMsbUJBQWdCLFlBQVksRUFBQSxDQUFDLENBQUMsV0FBVztZQUN2RCxRQUFRLEVBQUUsS0FBSztZQUNmLFFBQVEsRUFBRSxDQUFDLG1CQUFnQixZQUFZLEVBQUEsQ0FBQyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsZUFBZTtTQUMxRTtRQUVELElBQUksQ0FBQyxtQkFBZ0IsWUFBWSxFQUFBLENBQUMsQ0FBQyxNQUFNLEVBQUU7WUFDekMsT0FBTyxDQUFDLE1BQU07Ozs7WUFBRyxDQUFDLEtBQVUsRUFBRSxFQUFFO2dCQUM5QixDQUFDLG1CQUFnQixZQUFZLEVBQUEsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUN4QyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUMxQyxDQUFDLENBQUEsQ0FBQztTQUNIO1FBRUQsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQztDQXFCRjs7O0lBbkhDLDZDQUF3Qzs7SUFHeEMsZ0RBQTJDOzs7OztJQUczQyxvREFBZ0M7Ozs7Ozs7Ozs7SUFpR2hDLDJFQUFpRDs7Ozs7Ozs7OztJQVVqRCw0RUFBMEQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgUG9Ob3RpZmljYXRpb24gfSBmcm9tICcuL3BvLW5vdGlmaWNhdGlvbi5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUG9Ub2FzdGVyIH0gZnJvbSAnLi9wby10b2FzdGVyL3BvLXRvYXN0ZXIuaW50ZXJmYWNlJztcbmltcG9ydCB7IFBvVG9hc3Rlck9yaWVudGF0aW9uIH0gZnJvbSAnLi9wby10b2FzdGVyL3BvLXRvYXN0ZXItb3JpZW50YXRpb24uZW51bSc7XG5pbXBvcnQgeyBQb1RvYXN0ZXJUeXBlIH0gZnJvbSAnLi9wby10b2FzdGVyL3BvLXRvYXN0ZXItdHlwZS5lbnVtJztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBTZXJ2acOnbyByZXNwb25zw6F2ZWwgcG9yIGVtaXRpciBhcyBub3RpZmljYcOnw7VlcyBlbSB1bWEgcMOhZ2luYS4gU8OjbyBkaXNwb25pYmlsaXphZG9zIG9zIG3DqXRvZG9zIGRlOlxuICpcbiAqIC0gc3VjY2VzcyxcbiAqIC0gd2FybmluZyxcbiAqIC0gZXJyb3IsXG4gKiAtIGluZm9ybWF0aW9uLlxuICpcbiAqIENhZGEgdW0gZGVzdGVzIG3DqXRvZG9zIHJlY2ViZSBjb21vIHBhcsOibWV0cm8gbyBvYmpldG8gXCJQb05vdGlmaWNhdGlvblwiIHF1ZSBjb250w6ltIG9zIGRhZG9zIGRhIG1lbnNhZ2VtIGUgb1xuICogb2JqZXRvIFZpZXdDb250YWluZXJSZWYgcXVlIMOpIGEgcmVwcmVzZW50YcOnw6NvIGRvIGNvbnRhaW5lciBkbyBjb21wb25lbnRlIG9uZGUgc2Vyw6EgY3JpYWRhIGEgbm90aWZpY2HDp8Ojby5cbiAqXG4gKiBFc3RhcyBub3RpZmljYcOnw7VlcyBzZXLDo28gZXhpYmlkYXMgZHVyYW50ZSAxMCBzZWd1bmRvcyBwb3IgcGFkcsOjbywgcG9kZW5kbyBzZXIgYWx0ZXJhZGEgY29uZm9ybWUgbmVjZXNzaWRhZGUuXG4gKiBBcMOzcyBlc3RlIHRlbXBvIGEgbWVzbWEgw6kgcmVtb3ZpZGEgYXV0b21hdGljYW1lbnRlLlxuICpcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBvTm90aWZpY2F0aW9uQmFzZVNlcnZpY2Uge1xuXG4gICAvLyBBcnJheSByZXNwb25zw6F2ZWwgcG9yIGd1YXJkYXIgYSBpbnN0w6JuY2lhIGRlIHBvLXRvYXN0ZXIncyBzdXBlcmlvcmVzLlxuICBzdGFja1RvcDogQXJyYXk8Q29tcG9uZW50UmVmPGFueT4+ID0gW107XG5cbiAgLy8gQXJyYXkgcmVzcG9uc8OhdmVsIHBvciBndWFyZGFyIGEgaW5zdMOibmNpYSBkZSBwby10b2FzdGVyJ3MgaW5mZXJpb3Jlcy5cbiAgc3RhY2tCb3R0b206IEFycmF5PENvbXBvbmVudFJlZjxhbnk+PiA9IFtdO1xuXG4gIC8vIER1cmHDp8OjbyBkYSBub3RpZmljYcOnw6NvIGF0aXZhLlxuICBwcml2YXRlIGRlZmF1bHREdXJhdGlvbiA9IDEwMDAwO1xuXG4gIC8qKlxuICAgKiBFbWl0ZSB1bWEgbm90aWZpY2HDp8OjbyBkZSBzdWNlc3NvLlxuICAgKlxuICAgKiBAcGFyYW0gbm90aWZpY2F0aW9uIHtQb05vdGlmaWNhdGlvbiB8IHN0cmluZ30gT2JqZXRvIGNvbSBvcyBkYWRvcyBkYSBub3RpZmljYcOnw6NvIG91IHNvbWVudGUgYSBzdHJpbmcgY29tIGEgbWVuc2FnZW0gZGEgbm90aWZpY2HDp8Ojby5cbiAgICovXG4gIHB1YmxpYyBzdWNjZXNzKG5vdGlmaWNhdGlvbjogUG9Ob3RpZmljYXRpb24gfCBzdHJpbmcpIHtcbiAgICB0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIobm90aWZpY2F0aW9uLCBQb1RvYXN0ZXJUeXBlLlN1Y2Nlc3MpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0ZSB1bWEgbm90aWZpY2HDp8OjbyBkZSBhdGVuw6fDo28uXG4gICAqXG4gICAqIEBwYXJhbSBub3RpZmljYXRpb24ge1BvTm90aWZpY2F0aW9uIHwgc3RyaW5nfSBPYmpldG8gY29tIG9zIGRhZG9zIGRhIG5vdGlmaWNhw6fDo28gb3Ugc29tZW50ZSBhIHN0cmluZyBjb20gYSBtZW5zYWdlbSBkYSBub3RpZmljYcOnw6NvXG4gICAqL1xuICBwdWJsaWMgd2FybmluZyhub3RpZmljYXRpb246IFBvTm90aWZpY2F0aW9uIHwgc3RyaW5nKSB7XG4gICAgdGhpcy5jcmVhdGVUb2FzdGVyKHRoaXMuYnVpbGRUb2FzdGVyKG5vdGlmaWNhdGlvbiwgUG9Ub2FzdGVyVHlwZS5XYXJuaW5nKSk7XG4gIH1cblxuICAvKipcbiAgICogRW1pdGUgdW1hIG5vdGlmaWNhw6fDo28gZGUgZXJyby5cbiAgICpcbiAgICogQHBhcmFtIG5vdGlmaWNhdGlvbiB7UG9Ob3RpZmljYXRpb24gfCBzdHJpbmd9IE9iamV0byBjb20gb3MgZGFkb3MgZGEgbm90aWZpY2HDp8OjbyBvdSBzb21lbnRlIGEgc3RyaW5nIGNvbSBhIG1lbnNhZ2VtIGRhIG5vdGlmaWNhw6fDo29cbiAgICovXG4gIHB1YmxpYyBlcnJvcihub3RpZmljYXRpb246IFBvTm90aWZpY2F0aW9uIHwgc3RyaW5nKSB7XG4gICAgdGhpcy5jcmVhdGVUb2FzdGVyKHRoaXMuYnVpbGRUb2FzdGVyKG5vdGlmaWNhdGlvbiwgUG9Ub2FzdGVyVHlwZS5FcnJvcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRlIHVtYSBub3RpZmljYcOnw6NvIGRlIGluZm9ybWHDp8Ojby5cbiAgICpcbiAgICogQHBhcmFtIG5vdGlmaWNhdGlvbiB7UG9Ob3RpZmljYXRpb24gfCBzdHJpbmd9IE9iamV0byBjb20gb3MgZGFkb3MgZGEgbm90aWZpY2HDp8OjbyBvdSBzb21lbnRlIGEgc3RyaW5nIGNvbSBhIG1lbnNhZ2VtIGRhIG5vdGlmaWNhw6fDo29cbiAgICovXG4gIHB1YmxpYyBpbmZvcm1hdGlvbihub3RpZmljYXRpb246IFBvTm90aWZpY2F0aW9uIHwgc3RyaW5nKSB7XG4gICAgdGhpcy5jcmVhdGVUb2FzdGVyKHRoaXMuYnVpbGRUb2FzdGVyKG5vdGlmaWNhdGlvbiwgUG9Ub2FzdGVyVHlwZS5JbmZvcm1hdGlvbikpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmluZSBlbSBtaWxpc3NlZ3VuZG9zIGEgZHVyYcOnw6NvIHBhZHLDo28gcGFyYSBhcyBub3RpZmljYcOnw7Vlcy5cbiAgICpcbiAgICogPiBQYWRyw6NvIDEwIHNlZ3VuZG9zLlxuICAgKlxuICAgKiBAcGFyYW0gZGVmYXVsdER1cmF0aW9uIHtudW1iZXJ9IER1cmHDp8OjbyBlbSBtaWxpc2VndW5kb3NcbiAgICovXG4gIHB1YmxpYyBzZXREZWZhdWx0RHVyYXRpb24oZGVmYXVsdER1cmF0aW9uOiBudW1iZXIpIHtcbiAgICB0aGlzLmRlZmF1bHREdXJhdGlvbiA9IGRlZmF1bHREdXJhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZG9jc1ByaXZhdGVcbiAgICpcbiAgICogQ3JpYSB1bSBvYmpldG8gZG8gdGlwbyBQb1RvYXN0ZXIgZGUgYWNvcmRvIG8gdGlwby5cbiAgICpcbiAgICogQHBhcmFtIG5vdGlmaWNhdGlvbiB7UG9Ob3RpZmljYXRpb24gfCBzdHJpbmd9IE9iamV0byBQb05vdGlmaWNhdGlvbiBjb20gb3MgZGFkb3MgZGEgbm90aWZpY2HDp8Ojb1xuICAgKi9cbiAgcHJpdmF0ZSBidWlsZFRvYXN0ZXIobm90aWZpY2F0aW9uOiBQb05vdGlmaWNhdGlvbiB8IHN0cmluZywgdHlwZTogUG9Ub2FzdGVyVHlwZSk6IFBvVG9hc3RlciB7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBsZXQgb3JpZW50YXRpb247XG5cbiAgICBpZiAoKDxQb05vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLm9yaWVudGF0aW9uID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgKDxQb05vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLm9yaWVudGF0aW9uID09PSBQb1RvYXN0ZXJPcmllbnRhdGlvbi5Cb3R0b20pIHtcbiAgICAgIGluZGV4ID0gdGhpcy5zdGFja0JvdHRvbS5sZW5ndGg7XG4gICAgICBvcmllbnRhdGlvbiA9IFBvVG9hc3Rlck9yaWVudGF0aW9uLkJvdHRvbTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5kZXggPSB0aGlzLnN0YWNrVG9wLmxlbmd0aDtcbiAgICAgIG9yaWVudGF0aW9uID0gUG9Ub2FzdGVyT3JpZW50YXRpb24uVG9wO1xuICAgIH1cblxuICAgIGNvbnN0IHRvYXN0ZXI6IFBvVG9hc3RlciA9IHtcbiAgICAgIGNvbXBvbmVudFJlZjogdW5kZWZpbmVkLFxuICAgICAgbWVzc2FnZTogKDxQb05vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLm1lc3NhZ2UgfHwgPHN0cmluZz5ub3RpZmljYXRpb24sXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgICAgYWN0aW9uOiAoPFBvTm90aWZpY2F0aW9uPm5vdGlmaWNhdGlvbikuYWN0aW9uLFxuICAgICAgYWN0aW9uTGFiZWw6ICg8UG9Ob3RpZmljYXRpb24+bm90aWZpY2F0aW9uKS5hY3Rpb25MYWJlbCxcbiAgICAgIHBvc2l0aW9uOiBpbmRleCxcbiAgICAgIGR1cmF0aW9uOiAoPFBvTm90aWZpY2F0aW9uPm5vdGlmaWNhdGlvbikuZHVyYXRpb24gfHwgdGhpcy5kZWZhdWx0RHVyYXRpb25cbiAgICB9O1xuXG4gICAgaWYgKCg8UG9Ob3RpZmljYXRpb24+bm90aWZpY2F0aW9uKS5hY3Rpb24pIHtcbiAgICAgIHRvYXN0ZXIuYWN0aW9uID0gKHBhcmFtOiBhbnkpID0+IHtcbiAgICAgICAgKDxQb05vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLmFjdGlvbigpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lUb2FzdGVyKHBhcmFtLmNvbXBvbmVudFJlZik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB0b2FzdGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkb2NzUHJpdmF0ZVxuICAgKlxuICAgKiBNw6l0b2RvIHJlc3BvbnPDoXZlbCBwb3IgY3JpYXIgbyBwby10b2FzdGVyLlxuICAgKlxuICAgKiBAcGFyYW0gdG9hc3RlciB7UG9Ub2FzdGVyfSBPYmpldG8gY29udGVuZG8gYXMgaW5mb3JtYcOnw7VlcyBkbyB0b2FzdGVyLlxuICAgKi9cbiAgYWJzdHJhY3QgY3JlYXRlVG9hc3Rlcih0b2FzdGVyOiBQb1RvYXN0ZXIpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAZG9jc1ByaXZhdGVcbiAgICpcbiAgICogTcOpdG9kbyByZXNwb25zw6F2ZWwgcG9yIGRlc3RydWlyIG8gcG8tdG9hc3Rlci5cbiAgICpcbiAgICogQHBhcmFtIHRvYXN0ZXIge0NvbXBvbmVudFJlZn0gTsO6bWVybyBkYSBwb3Npw6fDo28gb3UgaW5zdGFuY2lhIGRvIHRvYXN0ZXIgYSBzZXIgZGVzdHJ1w61kby5cbiAgICogQHBhcmFtIG9yaWVudGF0aW9uIHtQb1RvYXN0ZXJPcmllbnRhdGlvbn0gT3JpZW50YcOnw6NvIGRvIFBvVG9hc3RlcjogVG9wIG91IEJvdHRvbVxuICAgKi9cbiAgYWJzdHJhY3QgZGVzdHJveVRvYXN0ZXIodG9hc3RlcjogQ29tcG9uZW50UmVmPGFueT4pOiB2b2lkO1xuXG59XG4iXX0=
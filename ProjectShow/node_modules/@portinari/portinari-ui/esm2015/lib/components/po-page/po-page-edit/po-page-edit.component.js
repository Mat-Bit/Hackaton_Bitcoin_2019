/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewContainerRef } from '@angular/core';
import { PoPageEditBaseComponent } from './po-page-edit-base.component';
import { callAction, hasAction } from '../po-page-util/po-page-util';
/**
 * \@docsExtends PoPageEditBaseComponent
 *
 * \@example
 *
 * <example name="po-page-edit-basic" title="Portinari Page Edit Basic">
 *  <file name="sample-po-page-edit-basic/sample-po-page-edit-basic.component.html"> </file>
 *  <file name="sample-po-page-edit-basic/sample-po-page-edit-basic.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-edit-labs" title="Portinari Page Edit Labs">
 *  <file name="sample-po-page-edit-labs/sample-po-page-edit-labs.component.html"> </file>
 *  <file name="sample-po-page-edit-labs/sample-po-page-edit-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-edit-user" title="Portinari Page Edit - User">
 *  <file name="sample-po-page-edit-user/sample-po-page-edit-user.component.html"> </file>
 *  <file name="sample-po-page-edit-user/sample-po-page-edit-user.component.ts"> </file>
 * </example>
 */
export class PoPageEditComponent extends PoPageEditBaseComponent {
    /**
     * @param {?} viewRef
     */
    constructor(viewRef) {
        super();
        this.hasAction = hasAction;
        this.callAction = callAction;
        this.parentContext = viewRef['_view']['component'];
    }
    /**
     * @param {?} icon
     * @return {?}
     */
    getIcon(icon) {
        if (icon === 'cancel') {
            return this.isPrimaryAction('cancel') ? 'po-icon-close' : '';
        }
        if (icon === 'saveNew') {
            return this.isPrimaryAction('saveNew') ? 'po-icon-ok' : '';
        }
        return '';
    }
    /**
     * @param {?} type
     * @return {?}
     */
    getType(type) {
        /** @type {?} */
        const isCancelPrimaryAction = type === 'cancel' && this.isPrimaryAction('cancel');
        /** @type {?} */
        const isSaveNewPrimaryAction = type === 'saveNew' && this.isPrimaryAction('saveNew');
        return isCancelPrimaryAction || isSaveNewPrimaryAction ? 'primary' : 'default';
    }
    /**
     * @return {?}
     */
    hasAnyAction() {
        return hasAction('cancel', this.parentContext) || hasAction('saveNew', this.parentContext) || hasAction('save', this.parentContext);
    }
    /**
     * @return {?}
     */
    hasPageHeader() {
        return !!(this.title || this.hasAnyAction() || (this.breadcrumb && this.breadcrumb.items.length));
    }
    /**
     * @private
     * @param {?} action
     * @return {?}
     */
    isPrimaryAction(action) {
        /** @type {?} */
        const hasSaveAction = !hasAction('save', this.parentContext);
        if (action === 'saveNew') {
            return hasSaveAction;
        }
        if (action === 'cancel') {
            return !hasAction('saveNew', this.parentContext) && hasSaveAction;
        }
        return false;
    }
}
PoPageEditComponent.decorators = [
    { type: Component, args: [{
                selector: 'po-page-edit',
                template: "<po-page>\n  <!-- HEADER -->\n  <po-page-header\n    *ngIf=\"hasPageHeader()\"\n    [p-breadcrumb]=\"breadcrumb\"\n    [p-title]=\"title\">\n\n    <!-- OPERATIONS -->\n    <div *ngIf=\"hasAnyAction()\" class=\"po-page-header-actions\">\n      <po-button\n        *ngIf=\"hasAction('cancel', parentContext)\"\n        [p-icon]=\"getIcon('cancel')\"\n        [p-label]=\"literals.cancel\"\n        [p-type]=\"getType('cancel')\"\n        (p-click)=\"callAction('cancel', parentContext)\">\n      </po-button>\n\n      <po-button\n        *ngIf=\"hasAction('saveNew', parentContext)\"\n        [p-disabled]=\"disableSubmit\"\n        [p-icon]=\"getIcon('saveNew')\"\n        [p-label]=\"literals.saveNew\"\n        [p-type]=\"getType('saveNew')\"\n        (p-click)=\"callAction('saveNew', parentContext)\">\n      </po-button>\n\n      <po-button\n        *ngIf=\"hasAction('save', parentContext)\"\n        p-icon=\"po-icon-ok\"\n        p-type=\"primary\"\n        [p-disabled]=\"disableSubmit\"\n        [p-label]=\"literals.save\"\n        (p-click)=\"callAction('save', parentContext)\">\n      </po-button>\n    </div>\n\n  </po-page-header>\n\n  <!-- CONTENT -->\n  <po-page-content>\n    <ng-content>\n    </ng-content>\n  </po-page-content>\n\n</po-page>\n"
            }] }
];
/** @nocollapse */
PoPageEditComponent.ctorParameters = () => [
    { type: ViewContainerRef }
];
if (false) {
    /** @type {?} */
    PoPageEditComponent.prototype.hasAction;
    /** @type {?} */
    PoPageEditComponent.prototype.callAction;
    /** @type {?} */
    PoPageEditComponent.prototype.parentContext;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1lZGl0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwb3J0aW5hcmkvcG9ydGluYXJpLXVpLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tcGFnZS9wby1wYWdlLWVkaXQvcG8tcGFnZS1lZGl0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUU1RCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUN4RSxPQUFPLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLDhCQUE4QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwQnJFLE1BQU0sT0FBTyxtQkFBb0IsU0FBUSx1QkFBdUI7Ozs7SUFLOUQsWUFBWSxPQUF5QjtRQUNuQyxLQUFLLEVBQUUsQ0FBQztRQUxWLGNBQVMsR0FBYSxTQUFTLENBQUM7UUFDaEMsZUFBVSxHQUFhLFVBQVUsQ0FBQztRQUtoQyxJQUFJLENBQUMsYUFBYSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNyRCxDQUFDOzs7OztJQUVELE9BQU8sQ0FBQyxJQUFZO1FBQ2xCLElBQUksSUFBSSxLQUFLLFFBQVEsRUFBRTtZQUNyQixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1NBQzlEO1FBRUQsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQ3RCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7U0FDNUQ7UUFFRCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7Ozs7O0lBRUQsT0FBTyxDQUFDLElBQVk7O2NBQ1oscUJBQXFCLEdBQUcsSUFBSSxLQUFLLFFBQVEsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQzs7Y0FDM0Usc0JBQXNCLEdBQUcsSUFBSSxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQztRQUVwRixPQUFPLHFCQUFxQixJQUFJLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUNqRixDQUFDOzs7O0lBRUQsWUFBWTtRQUNWLE9BQU8sU0FBUyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksU0FBUyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDdEksQ0FBQzs7OztJQUVELGFBQWE7UUFDWCxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ3BHLENBQUM7Ozs7OztJQUVPLGVBQWUsQ0FBQyxNQUFjOztjQUM5QixhQUFhLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUM7UUFFNUQsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3hCLE9BQU8sYUFBYSxDQUFDO1NBQ3RCO1FBRUQsSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFO1lBQ3ZCLE9BQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxhQUFhLENBQUM7U0FDbkU7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7OztZQXJERixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLGNBQWM7Z0JBQ3hCLDJ2Q0FBNEM7YUFDN0M7Ozs7WUE1Qm1CLGdCQUFnQjs7OztJQThCbEMsd0NBQWdDOztJQUNoQyx5Q0FBa0M7O0lBQ2xDLDRDQUFnQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBQb1BhZ2VFZGl0QmFzZUNvbXBvbmVudCB9IGZyb20gJy4vcG8tcGFnZS1lZGl0LWJhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IGNhbGxBY3Rpb24sIGhhc0FjdGlvbiB9IGZyb20gJy4uL3BvLXBhZ2UtdXRpbC9wby1wYWdlLXV0aWwnO1xuXG4vKipcbiAqIEBkb2NzRXh0ZW5kcyBQb1BhZ2VFZGl0QmFzZUNvbXBvbmVudFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtZWRpdC1iYXNpY1wiIHRpdGxlPVwiUG9ydGluYXJpIFBhZ2UgRWRpdCBCYXNpY1wiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1lZGl0LWJhc2ljL3NhbXBsZS1wby1wYWdlLWVkaXQtYmFzaWMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1lZGl0LWJhc2ljL3NhbXBsZS1wby1wYWdlLWVkaXQtYmFzaWMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tcGFnZS1lZGl0LWxhYnNcIiB0aXRsZT1cIlBvcnRpbmFyaSBQYWdlIEVkaXQgTGFic1wiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1lZGl0LWxhYnMvc2FtcGxlLXBvLXBhZ2UtZWRpdC1sYWJzLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtZWRpdC1sYWJzL3NhbXBsZS1wby1wYWdlLWVkaXQtbGFicy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wYWdlLWVkaXQtdXNlclwiIHRpdGxlPVwiUG9ydGluYXJpIFBhZ2UgRWRpdCAtIFVzZXJcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtZWRpdC11c2VyL3NhbXBsZS1wby1wYWdlLWVkaXQtdXNlci5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWVkaXQtdXNlci9zYW1wbGUtcG8tcGFnZS1lZGl0LXVzZXIuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncG8tcGFnZS1lZGl0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvLXBhZ2UtZWRpdC5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgUG9QYWdlRWRpdENvbXBvbmVudCBleHRlbmRzIFBvUGFnZUVkaXRCYXNlQ29tcG9uZW50IHtcbiAgaGFzQWN0aW9uOiBGdW5jdGlvbiA9IGhhc0FjdGlvbjtcbiAgY2FsbEFjdGlvbjogRnVuY3Rpb24gPSBjYWxsQWN0aW9uO1xuICBwYXJlbnRDb250ZXh0OiBWaWV3Q29udGFpbmVyUmVmO1xuXG4gIGNvbnN0cnVjdG9yKHZpZXdSZWY6IFZpZXdDb250YWluZXJSZWYpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucGFyZW50Q29udGV4dCA9IHZpZXdSZWZbJ192aWV3J11bJ2NvbXBvbmVudCddO1xuICB9XG5cbiAgZ2V0SWNvbihpY29uOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChpY29uID09PSAnY2FuY2VsJykge1xuICAgICAgcmV0dXJuIHRoaXMuaXNQcmltYXJ5QWN0aW9uKCdjYW5jZWwnKSA/ICdwby1pY29uLWNsb3NlJyA6ICcnO1xuICAgIH1cblxuICAgIGlmIChpY29uID09PSAnc2F2ZU5ldycpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzUHJpbWFyeUFjdGlvbignc2F2ZU5ldycpID8gJ3BvLWljb24tb2snIDogJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgZ2V0VHlwZSh0eXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGlzQ2FuY2VsUHJpbWFyeUFjdGlvbiA9IHR5cGUgPT09ICdjYW5jZWwnICYmIHRoaXMuaXNQcmltYXJ5QWN0aW9uKCdjYW5jZWwnKTtcbiAgICBjb25zdCBpc1NhdmVOZXdQcmltYXJ5QWN0aW9uID0gdHlwZSA9PT0gJ3NhdmVOZXcnICYmIHRoaXMuaXNQcmltYXJ5QWN0aW9uKCdzYXZlTmV3Jyk7XG5cbiAgICByZXR1cm4gaXNDYW5jZWxQcmltYXJ5QWN0aW9uIHx8IGlzU2F2ZU5ld1ByaW1hcnlBY3Rpb24gPyAncHJpbWFyeScgOiAnZGVmYXVsdCc7XG4gIH1cblxuICBoYXNBbnlBY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGhhc0FjdGlvbignY2FuY2VsJywgdGhpcy5wYXJlbnRDb250ZXh0KSB8fCBoYXNBY3Rpb24oJ3NhdmVOZXcnLCB0aGlzLnBhcmVudENvbnRleHQpIHx8IGhhc0FjdGlvbignc2F2ZScsIHRoaXMucGFyZW50Q29udGV4dCk7XG4gIH1cblxuICBoYXNQYWdlSGVhZGVyKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhISh0aGlzLnRpdGxlIHx8IHRoaXMuaGFzQW55QWN0aW9uKCkgfHwgKHRoaXMuYnJlYWRjcnVtYiAmJiB0aGlzLmJyZWFkY3J1bWIuaXRlbXMubGVuZ3RoKSk7XG4gIH1cblxuICBwcml2YXRlIGlzUHJpbWFyeUFjdGlvbihhY3Rpb246IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGhhc1NhdmVBY3Rpb24gPSAhaGFzQWN0aW9uKCdzYXZlJywgdGhpcy5wYXJlbnRDb250ZXh0KTtcblxuICAgIGlmIChhY3Rpb24gPT09ICdzYXZlTmV3Jykge1xuICAgICAgcmV0dXJuIGhhc1NhdmVBY3Rpb247XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbiA9PT0gJ2NhbmNlbCcpIHtcbiAgICAgIHJldHVybiAhaGFzQWN0aW9uKCdzYXZlTmV3JywgdGhpcy5wYXJlbnRDb250ZXh0KSAmJiBoYXNTYXZlQWN0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG59XG4iXX0=
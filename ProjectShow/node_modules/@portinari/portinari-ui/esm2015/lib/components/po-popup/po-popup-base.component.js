/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ElementRef, Input } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { PO_CONTROL_POSITIONS } from './../../services/po-control-position/po-control-position.constants';
/** @type {?} */
const poPopupDefaultPosition = 'bottom-left';
/**
 * \@description
 *
 * O componente `po-popup` é um container pequeno recomendado para ações de navegação:
 * Ele abre sobreposto aos outros componentes.
 *
 * É possível escolher as posições do `po-popup` em relação ao componente alvo, para isto veja a propriedade `p-position`.
 *
 * Também é possível informar um _template_ _header_ para o `po-popup`, que será exibido acima das ações.
 * Para funcionar corretamente é preciso adicionar a propriedade `p-popup-header-template` no elemento que servirá de template, por exemplo:
 *
 * ```
 * <po-popup [p-target]="target">
 *   <div p-popup-header-template>
 *     <div>
 *       Dev Portinari
 *     </div>
 *     <div>
 *       dev.portinari\@portinari.com.br
 *     </div>
 *   </div>
 * </po-popup >
 * ```
 */
export class PoPopupBaseComponent {
    constructor() {
        this._hideArrow = false;
        this._isCornerAlign = false;
        this._position = poPopupDefaultPosition;
        this.arrowDirection = 'top-right';
        this.showPopup = false;
    }
    /**
     * Lista de ações que serão exibidas no componente.
     * @param {?} value
     * @return {?}
     */
    set actions(value) {
        this._actions = Array.isArray(value) ? value : [];
    }
    /**
     * @return {?}
     */
    get actions() {
        return this._actions;
    }
    /**
     * \@optional
     *
     * \@description
     *
     * Oculta a seta do componente *popup*.
     *
     * \@default `false`
     * @param {?} value
     * @return {?}
     */
    set hideArrow(value) {
        this._hideArrow = convertToBoolean(value);
    }
    /**
     * @return {?}
     */
    get hideArrow() {
        return this._hideArrow;
    }
    // Define se o `po-popup` será alinhado pelos cantos do elemento target.
    /**
     * @param {?} value
     * @return {?}
     */
    set isCornerAlign(value) {
        this._isCornerAlign = convertToBoolean(value);
    }
    /**
     * @return {?}
     */
    get isCornerAlign() {
        return this._isCornerAlign;
    }
    /**
     * \@optional
     *
     * \@description
     *
     * Define a posição inicial que o `po-popup` abrirá em relação ao componente alvo. Sugere-se que seja
     * usada a orientação `bottom-left` (abaixo e a esquerda), porém o mesmo é flexível e será rotacionado
     * automaticamente para se adequar a tela, caso necessário.
     *
     * > Caso seja definido um `p-custom-positions` o componente irá abrir na posição definida na propriedade `p-position`
     * e caso não caiba na posição inicial ele irá rotacionar seguindo a ordem de posições definidas no `p-custom-positions`.
     *
     * Posições válidas:
     * - `right`: Posiciona o po-popup no lado direito do componente alvo.
     * - `right-bottom`: Posiciona o po-popup no lado direito inferior do componente alvo.
     * - `right-top`: Posiciona o po-popup no lado direito superior do componente alvo.
     * - `bottom`: Posiciona o po-popup abaixo do componente alvo.
     * - `bottom-left`: Posiciona o po-popup abaixo e à esquerda do componente alvo.
     * - `bottom-right`: Posiciona o po-popup abaixo e à direita do componente alvo.
     * - `left`: Posiciona o po-popup no lado esquerdo do componente alvo.
     * - `left-top`: Posiciona o po-popup no lado esquerdo superior do componente alvo.
     * - `left-bottom`: Posiciona o po-popup no lado esquerdo inferior do componente alvo.
     * - `top`: Posiciona o po-popup acima do componente alvo.
     * - `top-right`: Posiciona o po-popup acima e à direita do componente alvo.
     * - `top-left`: Posiciona o po-popup acima e à esquerda do componente alvo.
     *
     * \@default `bottom-left`
     * @param {?} value
     * @return {?}
     */
    set position(value) {
        this._position = PO_CONTROL_POSITIONS.includes(value) ? value : poPopupDefaultPosition;
    }
    /**
     * @return {?}
     */
    get position() {
        return this._position;
    }
    /**
     * \@optional
     *
     * \@description
     *
     * Define as posições e a sequência que o `po-popup` poderá rotacionar. A sequência será definida pela ordem passada
     * no *array*. Caso não seja definido, o `po-popup` irá rotacionar em todas as posições válidas.
     *
     * > O componente sempre irá abrir na posição definida no `p-position` e caso não caiba na posição definida o mesmo
     * irá rotacionar seguindo a ordem definida pelo `p-custom-position`.
     *
     * Posições válidas:
     * - `right`: Posiciona o po-popup no lado direito do componente alvo.
     * - `right-bottom`: Posiciona o po-popup no lado direito inferior do componente alvo.
     * - `right-top`: Posiciona o po-popup no lado direito superior do componente alvo.
     * - `bottom`: Posiciona o po-popup abaixo do componente alvo.
     * - `bottom-left`: Posiciona o po-popup abaixo e à esquerda do componente alvo.
     * - `bottom-right`: Posiciona o po-popup abaixo e à direita do componente alvo.
     * - `left`: Posiciona o po-popup no lado esquerdo do componente alvo.
     * - `left-top`: Posiciona o po-popup no lado esquerdo superior do componente alvo.
     * - `left-bottom`: Posiciona o po-popup no lado esquerdo inferior do componente alvo.
     * - `top`: Posiciona o po-popup acima do componente alvo.
     * - `top-right`: Posiciona o po-popup acima e à direita do componente alvo.
     * - `top-left`: Posiciona o po-popup acima e à esquerda do componente alvo.
     * @param {?} value
     * @return {?}
     */
    set customPositions(value) {
        this._customPositions = Array.isArray(value) ? value : [];
    }
    /**
     * @return {?}
     */
    get customPositions() {
        return this._customPositions;
    }
    /**
     * \@description
     *
     * Para utilizar o `po-popup` deve-se colocar uma variável local no componente que disparará o evento
     * de abertura no mesmo e com isso, invocará a função `toggle`, por exemplo:
     *
     * ```
     * <span #icon class="po-icon po-icon-credit-payment" (click)="popup.toggle()">
     *   Credit Actions
     * </span>
     *
     * <po-popup #popup
     *   [p-actions]="actions"
     *   [p-target]="icon">
     * </po-popup>
     * ```
     *
     * Caso o elemento alvo for um componente, será preciso obter o `ElementRef` do mesmo e passá-lo à propriedade, por exemplo:
     *
     * ```
     * // component.html
     *
     * <po-button #poButton
     *   p-label="Open Popover"
     *   (p-click)="popup.toggle()">
     * </po-button>
     *
     * <po-popup #popup
     *   [p-actions]="actions"
     *   [p-target]="poButtonRef">
     * </po-popup>
     *
     * // component.ts
     *
     * \@ViewChild('poButton', { read: ElementRef }) poButtonRef: ElementRef;
     * ```
     * @param {?} value
     * @return {?}
     */
    set target(value) {
        this._target = (value instanceof ElementRef) ? value.nativeElement : value;
    }
    /**
     * @return {?}
     */
    get target() {
        return this._target;
    }
}
PoPopupBaseComponent.propDecorators = {
    actions: [{ type: Input, args: ['p-actions',] }],
    hideArrow: [{ type: Input, args: ['p-hide-arrow',] }],
    isCornerAlign: [{ type: Input, args: ['p-is-corner-align',] }],
    position: [{ type: Input, args: ['p-position',] }],
    customPositions: [{ type: Input, args: ['p-custom-positions',] }],
    target: [{ type: Input, args: ['p-target',] }]
};
if (false) {
    /**
     * @type {?}
     * @private
     */
    PoPopupBaseComponent.prototype._actions;
    /**
     * @type {?}
     * @private
     */
    PoPopupBaseComponent.prototype._customPositions;
    /**
     * @type {?}
     * @private
     */
    PoPopupBaseComponent.prototype._hideArrow;
    /**
     * @type {?}
     * @private
     */
    PoPopupBaseComponent.prototype._isCornerAlign;
    /**
     * @type {?}
     * @private
     */
    PoPopupBaseComponent.prototype._position;
    /**
     * @type {?}
     * @private
     */
    PoPopupBaseComponent.prototype._target;
    /** @type {?} */
    PoPopupBaseComponent.prototype.arrowDirection;
    /** @type {?} */
    PoPopupBaseComponent.prototype.showPopup;
    /**
     * @type {?}
     * @protected
     */
    PoPopupBaseComponent.prototype.oldTarget;
    /**
     * @type {?}
     * @protected
     */
    PoPopupBaseComponent.prototype.param;
    /**
     * @type {?}
     * @protected
     */
    PoPopupBaseComponent.prototype.parentRef;
    /**
     * @type {?}
     * @protected
     */
    PoPopupBaseComponent.prototype.clickoutListener;
    /**
     * @type {?}
     * @protected
     */
    PoPopupBaseComponent.prototype.resizeListener;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcG9wdXAtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG9ydGluYXJpL3BvcnRpbmFyaS11aS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLXBvcHVwL3BvLXBvcHVwLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVsRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxvRUFBb0UsQ0FBQzs7TUFJcEcsc0JBQXNCLEdBQUcsYUFBYTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBCNUMsTUFBTSxPQUFPLG9CQUFvQjtJQUFqQztRQUlVLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFDNUIsbUJBQWMsR0FBWSxLQUFLLENBQUM7UUFDaEMsY0FBUyxHQUFZLHNCQUFzQixDQUFDO1FBR3BELG1CQUFjLEdBQVcsV0FBVyxDQUFDO1FBQ3JDLGNBQVMsR0FBWSxLQUFLLENBQUM7SUE4SjdCLENBQUM7Ozs7OztJQXZKQyxJQUF3QixPQUFPLENBQUMsS0FBMkI7UUFDekQsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNwRCxDQUFDOzs7O0lBRUQsSUFBSSxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3ZCLENBQUM7Ozs7Ozs7Ozs7OztJQVdELElBQTJCLFNBQVMsQ0FBQyxLQUFjO1FBQ2pELElBQUksQ0FBQyxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUMsQ0FBQzs7OztJQUVELElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDOzs7Ozs7SUFHRCxJQUFnQyxhQUFhLENBQUMsS0FBYztRQUMxRCxJQUFJLENBQUMsY0FBYyxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hELENBQUM7Ozs7SUFFRCxJQUFJLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDN0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQThCRCxJQUF5QixRQUFRLENBQUMsS0FBYTtRQUM3QyxJQUFJLENBQUMsU0FBUyxHQUFHLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQztJQUN6RixDQUFDOzs7O0lBRUQsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3hCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUEyQkQsSUFBaUMsZUFBZSxDQUFDLEtBQW9CO1FBQ25FLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUM1RCxDQUFDOzs7O0lBRUQsSUFBSSxlQUFlO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQy9CLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUF1Q0QsSUFBdUIsTUFBTSxDQUFDLEtBQVU7UUFDdEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLEtBQUssWUFBWSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQzdFLENBQUM7Ozs7SUFFRCxJQUFJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdEIsQ0FBQzs7O3NCQWxKQSxLQUFLLFNBQUMsV0FBVzt3QkFpQmpCLEtBQUssU0FBQyxjQUFjOzRCQVNwQixLQUFLLFNBQUMsbUJBQW1CO3VCQW9DekIsS0FBSyxTQUFDLFlBQVk7OEJBaUNsQixLQUFLLFNBQUMsb0JBQW9CO3FCQTZDMUIsS0FBSyxTQUFDLFVBQVU7Ozs7Ozs7SUEzSmpCLHdDQUF1Qzs7Ozs7SUFDdkMsZ0RBQXlDOzs7OztJQUN6QywwQ0FBb0M7Ozs7O0lBQ3BDLDhDQUF3Qzs7Ozs7SUFDeEMseUNBQW9EOzs7OztJQUNwRCx1Q0FBcUI7O0lBRXJCLDhDQUFxQzs7SUFDckMseUNBQTJCOzs7OztJQUUzQix5Q0FBb0I7Ozs7O0lBQ3BCLHFDQUFnQjs7Ozs7SUFDaEIseUNBQW9COzs7OztJQXVKcEIsZ0RBQXVDOzs7OztJQUN2Qyw4Q0FBcUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbGVtZW50UmVmLCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbCc7XG5pbXBvcnQgeyBQT19DT05UUk9MX1BPU0lUSU9OUyB9IGZyb20gJy4vLi4vLi4vc2VydmljZXMvcG8tY29udHJvbC1wb3NpdGlvbi9wby1jb250cm9sLXBvc2l0aW9uLmNvbnN0YW50cyc7XG5cbmltcG9ydCB7IFBvUG9wdXBBY3Rpb24gfSBmcm9tICcuL3BvLXBvcHVwLWFjdGlvbi5pbnRlcmZhY2UnO1xuXG5jb25zdCBwb1BvcHVwRGVmYXVsdFBvc2l0aW9uID0gJ2JvdHRvbS1sZWZ0JztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBPIGNvbXBvbmVudGUgYHBvLXBvcHVwYCDDqSB1bSBjb250YWluZXIgcGVxdWVubyByZWNvbWVuZGFkbyBwYXJhIGHDp8O1ZXMgZGUgbmF2ZWdhw6fDo286XG4gKiBFbGUgYWJyZSBzb2JyZXBvc3RvIGFvcyBvdXRyb3MgY29tcG9uZW50ZXMuXG4gKlxuICogw4kgcG9zc8OtdmVsIGVzY29saGVyIGFzIHBvc2nDp8O1ZXMgZG8gYHBvLXBvcHVwYCBlbSByZWxhw6fDo28gYW8gY29tcG9uZW50ZSBhbHZvLCBwYXJhIGlzdG8gdmVqYSBhIHByb3ByaWVkYWRlIGBwLXBvc2l0aW9uYC5cbiAqXG4gKiBUYW1iw6ltIMOpIHBvc3PDrXZlbCBpbmZvcm1hciB1bSBfdGVtcGxhdGVfIF9oZWFkZXJfIHBhcmEgbyBgcG8tcG9wdXBgLCBxdWUgc2Vyw6EgZXhpYmlkbyBhY2ltYSBkYXMgYcOnw7Vlcy5cbiAqIFBhcmEgZnVuY2lvbmFyIGNvcnJldGFtZW50ZSDDqSBwcmVjaXNvIGFkaWNpb25hciBhIHByb3ByaWVkYWRlIGBwLXBvcHVwLWhlYWRlci10ZW1wbGF0ZWAgbm8gZWxlbWVudG8gcXVlIHNlcnZpcsOhIGRlIHRlbXBsYXRlLCBwb3IgZXhlbXBsbzpcbiAqXG4gKiBgYGBcbiAqIDxwby1wb3B1cCBbcC10YXJnZXRdPVwidGFyZ2V0XCI+XG4gKiAgIDxkaXYgcC1wb3B1cC1oZWFkZXItdGVtcGxhdGU+XG4gKiAgICAgPGRpdj5cbiAqICAgICAgIERldiBQb3J0aW5hcmlcbiAqICAgICA8L2Rpdj5cbiAqICAgICA8ZGl2PlxuICogICAgICAgZGV2LnBvcnRpbmFyaUBwb3J0aW5hcmkuY29tLmJyXG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9wby1wb3B1cCA+XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFBvUG9wdXBCYXNlQ29tcG9uZW50IHtcblxuICBwcml2YXRlIF9hY3Rpb25zOiBBcnJheTxQb1BvcHVwQWN0aW9uPjtcbiAgcHJpdmF0ZSBfY3VzdG9tUG9zaXRpb25zPzogQXJyYXk8c3RyaW5nPjtcbiAgcHJpdmF0ZSBfaGlkZUFycm93OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2lzQ29ybmVyQWxpZ246IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfcG9zaXRpb24/OiBzdHJpbmcgPSBwb1BvcHVwRGVmYXVsdFBvc2l0aW9uO1xuICBwcml2YXRlIF90YXJnZXQ6IGFueTtcblxuICBhcnJvd0RpcmVjdGlvbjogc3RyaW5nID0gJ3RvcC1yaWdodCc7XG4gIHNob3dQb3B1cDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCBvbGRUYXJnZXQ7XG4gIHByb3RlY3RlZCBwYXJhbTtcbiAgcHJvdGVjdGVkIHBhcmVudFJlZjtcblxuICAvKiogTGlzdGEgZGUgYcOnw7VlcyBxdWUgc2Vyw6NvIGV4aWJpZGFzIG5vIGNvbXBvbmVudGUuICovXG4gIEBJbnB1dCgncC1hY3Rpb25zJykgc2V0IGFjdGlvbnModmFsdWU6IEFycmF5PFBvUG9wdXBBY3Rpb24+KSB7XG4gICAgdGhpcy5fYWN0aW9ucyA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgfVxuXG4gIGdldCBhY3Rpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3Rpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogT2N1bHRhIGEgc2V0YSBkbyBjb21wb25lbnRlICpwb3B1cCouXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIEBJbnB1dCgncC1oaWRlLWFycm93Jykgc2V0IGhpZGVBcnJvdyh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX2hpZGVBcnJvdyA9IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgZ2V0IGhpZGVBcnJvdygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faGlkZUFycm93O1xuICB9XG5cbiAgLy8gRGVmaW5lIHNlIG8gYHBvLXBvcHVwYCBzZXLDoSBhbGluaGFkbyBwZWxvcyBjYW50b3MgZG8gZWxlbWVudG8gdGFyZ2V0LlxuICBASW5wdXQoJ3AtaXMtY29ybmVyLWFsaWduJykgc2V0IGlzQ29ybmVyQWxpZ24odmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9pc0Nvcm5lckFsaWduID0gY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG4gIH1cblxuICBnZXQgaXNDb3JuZXJBbGlnbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faXNDb3JuZXJBbGlnbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlZmluZSBhIHBvc2nDp8OjbyBpbmljaWFsIHF1ZSBvIGBwby1wb3B1cGAgYWJyaXLDoSBlbSByZWxhw6fDo28gYW8gY29tcG9uZW50ZSBhbHZvLiBTdWdlcmUtc2UgcXVlIHNlamFcbiAgICogdXNhZGEgYSBvcmllbnRhw6fDo28gYGJvdHRvbS1sZWZ0YCAoYWJhaXhvIGUgYSBlc3F1ZXJkYSksIHBvcsOpbSBvIG1lc21vIMOpIGZsZXjDrXZlbCBlIHNlcsOhIHJvdGFjaW9uYWRvXG4gICAqIGF1dG9tYXRpY2FtZW50ZSBwYXJhIHNlIGFkZXF1YXIgYSB0ZWxhLCBjYXNvIG5lY2Vzc8OhcmlvLlxuICAgKlxuICAgKiA+IENhc28gc2VqYSBkZWZpbmlkbyB1bSBgcC1jdXN0b20tcG9zaXRpb25zYCBvIGNvbXBvbmVudGUgaXLDoSBhYnJpciBuYSBwb3Npw6fDo28gZGVmaW5pZGEgbmEgcHJvcHJpZWRhZGUgYHAtcG9zaXRpb25gXG4gICAqIGUgY2FzbyBuw6NvIGNhaWJhIG5hIHBvc2nDp8OjbyBpbmljaWFsIGVsZSBpcsOhIHJvdGFjaW9uYXIgc2VndWluZG8gYSBvcmRlbSBkZSBwb3Npw6fDtWVzIGRlZmluaWRhcyBubyBgcC1jdXN0b20tcG9zaXRpb25zYC5cbiAgICpcbiAgICogUG9zacOnw7VlcyB2w6FsaWRhczpcbiAgICogLSBgcmlnaHRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGRpcmVpdG8gZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGByaWdodC1ib3R0b21gOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGRpcmVpdG8gaW5mZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGByaWdodC10b3BgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGRpcmVpdG8gc3VwZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBib3R0b21gOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhYmFpeG8gZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBib3R0b20tbGVmdGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFiYWl4byBlIMOgIGVzcXVlcmRhIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgYm90dG9tLXJpZ2h0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWJhaXhvIGUgw6AgZGlyZWl0YSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGxlZnRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGVzcXVlcmRvIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgbGVmdC10b3BgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGVzcXVlcmRvIHN1cGVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgbGVmdC1ib3R0b21gOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGVzcXVlcmRvIGluZmVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgdG9wYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWNpbWEgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGB0b3AtcmlnaHRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhY2ltYSBlIMOgIGRpcmVpdGEgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGB0b3AtbGVmdGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFjaW1hIGUgw6AgZXNxdWVyZGEgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgYm90dG9tLWxlZnRgXG4gICAqL1xuICBASW5wdXQoJ3AtcG9zaXRpb24nKSBzZXQgcG9zaXRpb24odmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3Bvc2l0aW9uID0gUE9fQ09OVFJPTF9QT1NJVElPTlMuaW5jbHVkZXModmFsdWUpID8gdmFsdWUgOiBwb1BvcHVwRGVmYXVsdFBvc2l0aW9uO1xuICB9XG5cbiAgZ2V0IHBvc2l0aW9uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmaW5lIGFzIHBvc2nDp8O1ZXMgZSBhIHNlcXXDqm5jaWEgcXVlIG8gYHBvLXBvcHVwYCBwb2RlcsOhIHJvdGFjaW9uYXIuIEEgc2VxdcOqbmNpYSBzZXLDoSBkZWZpbmlkYSBwZWxhIG9yZGVtIHBhc3NhZGFcbiAgICogbm8gKmFycmF5Ki4gQ2FzbyBuw6NvIHNlamEgZGVmaW5pZG8sIG8gYHBvLXBvcHVwYCBpcsOhIHJvdGFjaW9uYXIgZW0gdG9kYXMgYXMgcG9zacOnw7VlcyB2w6FsaWRhcy5cbiAgICpcbiAgICogPiBPIGNvbXBvbmVudGUgc2VtcHJlIGlyw6EgYWJyaXIgbmEgcG9zacOnw6NvIGRlZmluaWRhIG5vIGBwLXBvc2l0aW9uYCBlIGNhc28gbsOjbyBjYWliYSBuYSBwb3Npw6fDo28gZGVmaW5pZGEgbyBtZXNtb1xuICAgKiBpcsOhIHJvdGFjaW9uYXIgc2VndWluZG8gYSBvcmRlbSBkZWZpbmlkYSBwZWxvIGBwLWN1c3RvbS1wb3NpdGlvbmAuXG4gICAqXG4gICAqIFBvc2nDp8O1ZXMgdsOhbGlkYXM6XG4gICAqIC0gYHJpZ2h0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBkaXJlaXRvIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgcmlnaHQtYm90dG9tYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBkaXJlaXRvIGluZmVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgcmlnaHQtdG9wYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBkaXJlaXRvIHN1cGVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgYm90dG9tYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWJhaXhvIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgYm90dG9tLWxlZnRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhYmFpeG8gZSDDoCBlc3F1ZXJkYSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGJvdHRvbS1yaWdodGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFiYWl4byBlIMOgIGRpcmVpdGEgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBsZWZ0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGxlZnQtdG9wYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBzdXBlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGxlZnQtYm90dG9tYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBpbmZlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYHRvcGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFjaW1hIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgdG9wLXJpZ2h0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWNpbWEgZSDDoCBkaXJlaXRhIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgdG9wLWxlZnRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhY2ltYSBlIMOgIGVzcXVlcmRhIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICovXG4gIEBJbnB1dCgncC1jdXN0b20tcG9zaXRpb25zJykgc2V0IGN1c3RvbVBvc2l0aW9ucyh2YWx1ZTogQXJyYXk8c3RyaW5nPikge1xuICAgIHRoaXMuX2N1c3RvbVBvc2l0aW9ucyA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgfVxuXG4gIGdldCBjdXN0b21Qb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbVBvc2l0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogUGFyYSB1dGlsaXphciBvIGBwby1wb3B1cGAgZGV2ZS1zZSBjb2xvY2FyIHVtYSB2YXJpw6F2ZWwgbG9jYWwgbm8gY29tcG9uZW50ZSBxdWUgZGlzcGFyYXLDoSBvIGV2ZW50b1xuICAgKiBkZSBhYmVydHVyYSBubyBtZXNtbyBlIGNvbSBpc3NvLCBpbnZvY2Fyw6EgYSBmdW7Dp8OjbyBgdG9nZ2xlYCwgcG9yIGV4ZW1wbG86XG4gICAqXG4gICAqIGBgYFxuICAgKiA8c3BhbiAjaWNvbiBjbGFzcz1cInBvLWljb24gcG8taWNvbi1jcmVkaXQtcGF5bWVudFwiIChjbGljayk9XCJwb3B1cC50b2dnbGUoKVwiPlxuICAgKiAgIENyZWRpdCBBY3Rpb25zXG4gICAqIDwvc3Bhbj5cbiAgICpcbiAgICogPHBvLXBvcHVwICNwb3B1cFxuICAgKiAgIFtwLWFjdGlvbnNdPVwiYWN0aW9uc1wiXG4gICAqICAgW3AtdGFyZ2V0XT1cImljb25cIj5cbiAgICogPC9wby1wb3B1cD5cbiAgICogYGBgXG4gICAqXG4gICAqIENhc28gbyBlbGVtZW50byBhbHZvIGZvciB1bSBjb21wb25lbnRlLCBzZXLDoSBwcmVjaXNvIG9idGVyIG8gYEVsZW1lbnRSZWZgIGRvIG1lc21vIGUgcGFzc8OhLWxvIMOgIHByb3ByaWVkYWRlLCBwb3IgZXhlbXBsbzpcbiAgICpcbiAgICogYGBgXG4gICAqIC8vIGNvbXBvbmVudC5odG1sXG4gICAqXG4gICAqIDxwby1idXR0b24gI3BvQnV0dG9uXG4gICAqICAgcC1sYWJlbD1cIk9wZW4gUG9wb3ZlclwiXG4gICAqICAgKHAtY2xpY2spPVwicG9wdXAudG9nZ2xlKClcIj5cbiAgICogPC9wby1idXR0b24+XG4gICAqXG4gICAqIDxwby1wb3B1cCAjcG9wdXBcbiAgICogICBbcC1hY3Rpb25zXT1cImFjdGlvbnNcIlxuICAgKiAgIFtwLXRhcmdldF09XCJwb0J1dHRvblJlZlwiPlxuICAgKiA8L3BvLXBvcHVwPlxuICAgKlxuICAgKiAvLyBjb21wb25lbnQudHNcbiAgICpcbiAgICogQFZpZXdDaGlsZCgncG9CdXR0b24nLCB7IHJlYWQ6IEVsZW1lbnRSZWYgfSkgcG9CdXR0b25SZWY6IEVsZW1lbnRSZWY7XG4gICAqIGBgYFxuICAgKi9cbiAgQElucHV0KCdwLXRhcmdldCcpIHNldCB0YXJnZXQodmFsdWU6IGFueSkge1xuICAgIHRoaXMuX3RhcmdldCA9ICh2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnRSZWYpID8gdmFsdWUubmF0aXZlRWxlbWVudCA6IHZhbHVlO1xuICB9XG5cbiAgZ2V0IHRhcmdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xuICB9XG5cbiAgcHJvdGVjdGVkIGNsaWNrb3V0TGlzdGVuZXI6ICgpID0+IHZvaWQ7XG4gIHByb3RlY3RlZCByZXNpemVMaXN0ZW5lcjogKCkgPT4gdm9pZDtcblxufVxuIl19